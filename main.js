(()=>{"use strict";var e,t,r,n,o,i={3615:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},1476:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Camera2D=void 0;var i=r(6859),a=r(251),u=r(6092),s=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o.projection=u.Mat3.projection(t.projection.width,t.projection.height),o.transform=new i.Transform2D(null===(r=null==t?void 0:t.offset)||void 0===r?void 0:r.position,new u.Vec2(1,1),null===(n=null==t?void 0:t.offset)||void 0===n?void 0:n.angle),o}return o(t,e),t.prototype.attachTo=function(e,t){var r,n,o,u,s;try{this.following={transform:e.getComponent(i.Transform2D),rules:{position:{x:null===(n=null===(r=null==t?void 0:t.position)||void 0===r?void 0:r.x)||void 0===n||n,y:null===(u=null===(o=null==t?void 0:t.position)||void 0===o?void 0:o.y)||void 0===u||u},angle:null!==(s=null==t?void 0:t.angle)&&void 0!==s&&s}}}catch(t){throw new a.AuraError({class:"Camera2D",method:"attachTo",message:"Failed to attach to Entity with tag "+e.tag+" : the Entity lacks a Transform2D"})}},t.prototype.getViewMatrix=function(){var e,t;return this.following?(t=u.Mat3.translate(new u.Mat3,this.actualPosition()),t=u.Mat3.rotate(t,this.actualAngle()),t=u.Mat3.scale(t,this.transform.scale)):t=this.transform.compute(),null!==(e=u.Mat3.invert(t))&&void 0!==e?e:t},t.prototype.moveRight=function(e){this.transform.moveRight(e)},t.prototype.moveUp=function(e){this.transform.moveUp(e)},t.prototype.translate=function(e){this.transform.translate(e)},t.prototype.rotate=function(e){this.transform.rotate(e)},t.prototype.zoom=function(e){this.transform.scaleBy(e)},t.prototype.zoomTo=function(e){this.transform.scaleTo(e)},t.prototype.actualPosition=function(){var e=this.transform.position;if(this.following){var t=this.following,r=t.transform,n=t.rules,o=new u.Vec2(n.position.x?r.position.x:0,n.position.y?r.position.y:0);e=u.Vec2.add(e,o)}return e},t.prototype.actualAngle=function(){var e=this.transform.angle;return this.following&&(e+=this.following.transform.angle*(this.following.rules.angle?1:0)),e},t}(r(3952).Camera);t.Camera2D=s},1085:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3615),t),o(r(1476),t)},4016:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},4172:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Camera3D=void 0;var i=r(6756),a=r(251),u=r(6092),s=function(e){function t(t){var r,n,o,a,s=e.call(this,t)||this;return"orthographic"===t.projection.mode?s.projection=u.Mat4.ortho(-t.projection.width/2,t.projection.width/2,-t.projection.height/2,t.projection.height/2,t.projection.near,null!==(r=t.projection.far)&&void 0!==r?r:-t.projection.near):s.projection=u.Mat4.perspective(null!==(n=t.projection.fov)&&void 0!==n?n:90,t.projection.width/t.projection.height,t.projection.near,t.projection.far),s.transform=new i.Transform3D(null===(o=t.offset)||void 0===o?void 0:o.position,new u.Vec3(1,1,1),null===(a=t.offset)||void 0===a?void 0:a.angles),s}return o(t,e),t.prototype.attachTo=function(e,t){var r,n,o,u,s,c,l,f,p,d,h,y;try{this.following={transform:e.getComponent(i.Transform3D),rules:{position:{x:null===(n=null===(r=null==t?void 0:t.position)||void 0===r?void 0:r.x)||void 0===n||n,y:null===(u=null===(o=null==t?void 0:t.position)||void 0===o?void 0:o.y)||void 0===u||u,z:null===(c=null===(s=null==t?void 0:t.position)||void 0===s?void 0:s.z)||void 0===c||c},angles:{x:null===(f=null===(l=null==t?void 0:t.angles)||void 0===l?void 0:l.x)||void 0===f||f,y:null===(d=null===(p=null==t?void 0:t.angles)||void 0===p?void 0:p.y)||void 0===d||d,z:null!==(y=null===(h=null==t?void 0:t.angles)||void 0===h?void 0:h.z)&&void 0!==y&&y}}}}catch(t){throw new a.AuraError({class:"Camera3D",method:"attachTo",message:"Failed to attach to entity with tag "+e.tag+" : the Entity lacks a Transform3D"})}},t.prototype.getViewMatrix=function(){var e,t;if(this.following){var r=this.following.transform;t=u.Mat4.scale(r.compute(),u.Vec3.invert(r.scale)),t=u.Mat4.translate(t,this.transform.position),t=u.Mat4.rotateX(t,this.transform.angles.x),t=u.Mat4.rotateY(t,this.transform.angles.y),t=u.Mat4.rotateZ(t,this.transform.angles.z)}else t=this.transform.compute();return null!==(e=u.Mat4.invert(t))&&void 0!==e?e:t},t.prototype.moveRight=function(e){this.transform.moveRight(e)},t.prototype.moveUp=function(e){this.transform.moveUp(e)},t.prototype.moveForward=function(e){this.transform.moveForward(e)},t.prototype.translate=function(e){this.transform.translate(e)},t.prototype.rotateX=function(e){this.transform.rotateX(e)},t.prototype.rotateY=function(e){this.transform.rotateY(e)},t.prototype.rotateZ=function(e){this.transform.rotateZ(e)},t.prototype.rotate=function(e){this.transform.rotate(e)},t.prototype.zoom=function(e){this.transform.scaleBy(e)},t.prototype.zoomTo=function(e){this.transform.scaleTo(e)},t}(r(3952).Camera);t.Camera3D=s},5263:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4016),t),o(r(4172),t)},517:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},3952:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),e.prototype.detach=function(){this.following=void 0},e.prototype.reset=function(){this.transform.reset()},e}();t.Camera=r},8446:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(517),t),o(r(3952),t),t.TwoD=r(1085),t.ThreeD=r(5263)},9129:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BoxCollider2D=void 0;var i=r(6092),a=function(e){function t(t,r){void 0===t&&(t=new i.Vec2);var n=e.call(this,"BoxCollider2D")||this;return n.dimensions=t,n.onCollision=r,n}return o(t,e),t}(r(5232).Component);t.BoxCollider2D=a},6859:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(9129),t),o(r(9071),t)},9071:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Transform2D=void 0;var i=r(6092),a=function(e){function t(t,r,n,o){void 0===t&&(t=new i.Vec2),void 0===r&&(r=new i.Vec2(1,1)),void 0===n&&(n=0),void 0===o&&(o=new i.Vec2);var a=e.call(this,"Transform2D")||this;return a.initialPosition=t,a.initialScale=r,a.initialAngle=n,a.velocity=o,a.position=new i.Vec2,a.up=new i.Vec2(0,1),a.right=new i.Vec2(1,0),a.scale=new i.Vec2(1,1),a.angle=0,a.translate(t),a.scaleTo(r),a.rotate(n),a}return o(t,e),t.prototype.moveRight=function(e){this.mutable.position=i.Vec2.add(this.position,i.Vec2.scale(this.right,e))},t.prototype.moveUp=function(e){this.mutable.position=i.Vec2.add(this.position,i.Vec2.scale(this.up,e))},t.prototype.move=function(e){e.x&&this.moveRight(e.x),e.y&&this.moveUp(e.y)},t.prototype.translate=function(e){this.mutable.position=i.Vec2.add(this.position,e)},t.prototype.rotate=function(e){this.mutable.angle+=e;var t=i.Mat3.fromRotation(e);this.mutable.up=i.Vec2.normalize(i.Vec2.transformByMat3(this.up,t)),this.mutable.right=i.Vec2.normalize(i.Vec2.transformByMat3(this.right,t))},t.prototype.scaleBy=function(e){this.mutable.scale=i.Vec2.mult(this.scale,e)},t.prototype.scaleTo=function(e){this.mutable.scale=e},t.prototype.reset=function(){this.mutable.right=new i.Vec2(1,0),this.mutable.up=new i.Vec2(0,1),this.mutable.angle=0,this.mutable.position=new i.Vec2,this.mutable.scale=new i.Vec2(1,1),this.translate(this.initialPosition),this.scaleTo(this.initialScale),this.rotate(this.initialAngle)},t.prototype.compute=function(){var e=i.Mat3.translate(new i.Mat3,this.position);return e=i.Mat3.rotate(e,this.angle),i.Mat3.scale(e,this.scale)},Object.defineProperty(t.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),t}(r(5232).Component);t.Transform2D=a},6756:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(9080),t)},9080:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Transform3D=void 0;var i=r(6092),a=function(e){function t(t,r,n,o){void 0===t&&(t=new i.Vec3),void 0===r&&(r=new i.Vec3(1,1,1)),void 0===n&&(n=new i.Vec3),void 0===o&&(o=new i.Vec3);var a=e.call(this,"Transform3D")||this;return a.initialPosition=t,a.initialScale=r,a.initialAngles=n,a.velocity=o,a.position=new i.Vec3,a.forward=new i.Vec3(0,0,-1),a.up=new i.Vec3(0,1,0),a.right=new i.Vec3(1,0,0),a.scale=new i.Vec3(1,1,1),a.angles=new i.Vec3,a.translate(t),a.scaleTo(r),a.rotate(n),a}return o(t,e),t.prototype.moveRight=function(e){this.mutable.position=i.Vec3.add(this.position,i.Vec3.scale(this.right,e))},t.prototype.moveUp=function(e){this.mutable.position=i.Vec3.add(this.position,i.Vec3.scale(this.up,e))},t.prototype.moveForward=function(e){this.mutable.position=i.Vec3.add(this.position,i.Vec3.scale(this.forward,e))},t.prototype.move=function(e){e.x&&this.moveRight(e.x),e.y&&this.moveUp(e.y),e.z&&this.moveForward(e.z)},t.prototype.translate=function(e){this.mutable.position=i.Vec3.add(this.position,e)},t.prototype.rotateX=function(e){this.angles.setX(this.angles.x+e);var t=i.Mat4.fromAxisRotation(this.right,e);this.mutable.forward=i.Vec3.normalize(i.Vec3.transformByMat4(this.forward,t)),this.mutable.up=i.Vec3.normalize(i.Vec3.transformByMat4(this.up,t))},t.prototype.rotateY=function(e){this.angles.setY(this.angles.y+e);var t=i.Mat4.fromAxisRotation(this.up,e);this.mutable.forward=i.Vec3.normalize(i.Vec3.transformByMat4(this.forward,t)),this.mutable.right=i.Vec3.normalize(i.Vec3.transformByMat4(this.right,t))},t.prototype.rotateZ=function(e){this.angles.setZ(this.angles.z+e);var t=i.Mat4.fromAxisRotation(this.forward,e);this.mutable.up=i.Vec3.normalize(i.Vec3.transformByMat4(this.up,t)),this.mutable.right=i.Vec3.normalize(i.Vec3.transformByMat4(this.right,t))},t.prototype.rotate=function(e){e.x&&this.rotateX(e.x),e.y&&this.rotateY(e.y),e.z&&this.rotateZ(e.z)},t.prototype.scaleBy=function(e){this.mutable.scale=i.Vec3.mult(this.scale,e)},t.prototype.scaleTo=function(e){this.mutable.scale=e},t.prototype.reset=function(){this.mutable.right=new i.Vec3(1,0,0),this.mutable.up=new i.Vec3(0,1,0),this.mutable.forward=new i.Vec3(0,0,1),this.mutable.angles=new i.Vec3,this.mutable.position=new i.Vec3,this.mutable.scale=new i.Vec3(1,1,1),this.translate(this.initialPosition),this.scaleTo(this.initialScale),this.rotate(this.initialAngles)},t.prototype.compute=function(){return i.Mat4.scale(i.Mat4.lookAt(this.position,i.Vec3.add(this.position,this.forward),this.up),this.scale)},Object.defineProperty(t.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),t}(r(5232).Component);t.Transform3D=a},5232:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;t.Component=function(e){this.name=e}},9461:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FlatColor=void 0;var i=r(6092),a=function(e){function t(t){void 0===t&&(t=new i.Color(255,255,255));var r=e.call(this,"FlatColor")||this;return r.color=t,r}return o(t,e),t}(r(5232).Component);t.FlatColor=a},3833:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(9461),t),o(r(7806),t),o(r(2916),t),o(r(9291),t),o(r(4192),t)},7806:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var i=function(e){function t(t){var r=e.call(this,"Model")||this;return r.geometry=t,r}return o(t,e),Object.defineProperty(t.prototype,"modelName",{get:function(){return this.geometry.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.vertices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertexSize",{get:function(){return this.geometry.vertexSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertexCount",{get:function(){return this.geometry.vertexCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"glShape",{get:function(){return this.geometry.glShape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textureCoordinates",{get:function(){return this.geometry.textureCoordinates},enumerable:!1,configurable:!0}),t}(r(5232).Component);t.Model=i},2916:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.MultiColor=void 0;var i=function(e){function t(t){var r=e.call(this,"MultiColor")||this;return r.colors=t,r.currentColor=0,r}return o(t,e),t.prototype.nextColor=function(){var e=this.colors[this.currentColor++];return this.currentColor===this.colors.length&&(this.currentColor=0),e},t}(r(5232).Component);t.MultiColor=i},9291:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Shader=void 0;var i=function(e){function t(t){var r=e.call(this,"Shader")||this;return r.program=t,r}return o(t,e),Object.defineProperty(t.prototype,"programName",{get:function(){return this.program.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertex",{get:function(){return this.program.vertex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fragment",{get:function(){return this.program.fragment},enumerable:!1,configurable:!0}),t}(r(5232).Component);t.Shader=i},4192:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Texture=void 0;var i=function(e){function t(t,r,n,o){void 0===n&&(n=1),void 0===o&&(o=1);var i=e.call(this,"Texture")||this;return i.column=t,i.row=r,i.columnSpan=n,i.rowSpan=o,i}return o(t,e),t}(r(5232).Component);t.Texture=i},7346:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Generic=t.ThreeD=t.TwoD=void 0,o(r(5232),t),t.TwoD=r(6859),t.ThreeD=r(6756),t.Generic=r(3833)},1759:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},2891:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Game2D=void 0;var a=r(3968),u=r(6092),s=r(4202),c=r(9236),l=function(e){function t(t){var r,n,o,i,l,f,p,d,h,y=e.call(this,t)||this;return y.states=new Map,y.systems=new Map,y.font=new a.Font2D({renderer:y.renderer,charset:null!==(n=null===(r=null==t?void 0:t.font)||void 0===r?void 0:r.charset)&&void 0!==n?n:y.defaults.fontCharset,textureAtlas:null!==(i=null===(o=null==t?void 0:t.font)||void 0===o?void 0:o.textureAtlas)&&void 0!==i?i:y.defaults.fontAtlas}),y.ui=new s.UI2D({renderer:y.renderer,textureAtlas:null===(l=null==t?void 0:t.ui)||void 0===l?void 0:l.textureAtlas}),y.world=new c.World2D({renderer:y.renderer,dimensions:null!==(p=null===(f=null==t?void 0:t.world)||void 0===f?void 0:f.dimensions)&&void 0!==p?p:new u.Vec2(y.canvas.width,y.canvas.height),textureAtlas:null===(d=null==t?void 0:t.world)||void 0===d?void 0:d.textureAtlas,camera:null===(h=null==t?void 0:t.world)||void 0===h?void 0:h.camera}),y.renderer.setRenderingMode("2D"),y}return o(t,e),t.prototype.addState=function(e){this.states.set(e.name,e)},t.prototype.addStates=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.addState(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.initState=function(){var e;null===(e=this.currentState)||void 0===e||e.init(this)},t.prototype.endState=function(){var e;null===(e=this.currentState)||void 0===e||e.end(this)},t.prototype.addSystem=function(e){this.systems.set(e.name,e)},t.prototype.addSystems=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.addSystem(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.update=function(){var e,t=this;this.systems.forEach((function(e){e.tick(t,t.frameDelta)})),null===(e=this.currentState)||void 0===e||e.tick(this,this.frameDelta)},t}(r(4402).Game);t.Game2D=l},3482:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1759),t),o(r(2891),t)},6886:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},3241:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Game3D=void 0;var a=r(2334),u=r(6092),s=r(2061),c=r(9120),l=function(e){function t(t){var r,n,o,i,l,f,p,d,h,y=e.call(this,t)||this;return y.states=new Map,y.systems=new Map,y.font=new a.Font3D({renderer:y.renderer,charset:null!==(n=null===(r=null==t?void 0:t.font)||void 0===r?void 0:r.charset)&&void 0!==n?n:y.defaults.fontCharset,textureAtlas:null!==(i=null===(o=null==t?void 0:t.font)||void 0===o?void 0:o.textureAtlas)&&void 0!==i?i:y.defaults.fontAtlas}),y.ui=new s.UI3D({renderer:y.renderer,textureAtlas:null===(l=null==t?void 0:t.ui)||void 0===l?void 0:l.textureAtlas}),y.world=new c.World3D({renderer:y.renderer,dimensions:null!==(p=null===(f=null==t?void 0:t.world)||void 0===f?void 0:f.dimensions)&&void 0!==p?p:new u.Vec3(y.canvas.width,y.canvas.height,1e3),textureAtlas:null===(d=null==t?void 0:t.world)||void 0===d?void 0:d.textureAtlas,camera:null===(h=null==t?void 0:t.world)||void 0===h?void 0:h.camera}),y.renderer.setRenderingMode("3D"),y}return o(t,e),t.prototype.addState=function(e){this.states.set(e.name,e)},t.prototype.addStates=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.addState(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.initState=function(){var e;null===(e=this.currentState)||void 0===e||e.init(this)},t.prototype.endState=function(){var e;null===(e=this.currentState)||void 0===e||e.end(this)},t.prototype.addSystem=function(e){this.systems.set(e.name,e)},t.prototype.addSystems=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.addSystem(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.update=function(){var e,t=this;this.systems.forEach((function(e){e.tick(t,t.frameDelta)})),null===(e=this.currentState)||void 0===e||e.tick(this,this.frameDelta)},t}(r(4402).Game);t.Game3D=l},1704:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6886),t),o(r(3241),t)},9115:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AuraError=void 0;var o=function(e){function t(t){var r=e.call(this,t.method+"() -> "+t.message)||this;return r.name=t.class+" Error",r}return n(t,e),t}(Error);t.AuraError=o},2169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},4402:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var o=r(2396),i=r(6092),a=r(6113),u=r(8783),s=r(9115),c=function(){function e(e){var t,r,n,c,l,f;if(this.frameDelta=0,this.lastFrameTime=0,this.data=new Map,this.debugData={frameCount:0,fps:""},this.defaults={backgroundColor:new i.Color,canvasDimensions:new i.Vec2(window.innerWidth,window.innerHeight),controlScheme:"keyboard",fontCharset:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","(",")","[","]","+","-","*","/","!","?","'",'"',"#","Â£","$","&","%","^",",",".",":",";","<",">","_"," ","~","~"],fontAtlas:new u.TextureAtlas("text","res/font.png",64,1)},null==e?void 0:e.canvasId){if(this.canvas=document.getElementById(e.canvasId),!this.canvas)throw new s.AuraError({class:"Game",method:"construct",message:"Failed to retrieve Canvas with id "+e.canvasId})}else this.canvas=document.createElement("canvas"),document.body.append(this.canvas);this.canvas.width=null!==(r=null===(t=null==e?void 0:e.canvasDimensions)||void 0===t?void 0:t.x)&&void 0!==r?r:this.defaults.canvasDimensions.x,this.canvas.height=null!==(c=null===(n=null==e?void 0:e.canvasDimensions)||void 0===n?void 0:n.y)&&void 0!==c?c:this.defaults.canvasDimensions.y,this.renderer=new a.Renderer(this,null!==(l=null==e?void 0:e.backgroundColor)&&void 0!==l?l:this.defaults.backgroundColor),this.input=new o.InputManager(this,null!==(f=null==e?void 0:e.controlScheme)&&void 0!==f?f:this.defaults.controlScheme),this.debugMode=null==e?void 0:e.debugMode,this.init=null==e?void 0:e.init}return e.prototype.switchToState=function(e){if(this.endState(),this.currentState=this.states.get(e),!this.currentState)throw new s.AuraError({class:"Game",method:"switchToState",message:"Failed to switch to State '"+e+"' : State does not exist"});this.initState()},e.prototype.removeSystem=function(e){this.systems.delete(e)},e.prototype.removeSystems=function(){for(var e,t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{for(var i=n(r),a=i.next();!a.done;a=i.next()){var u=a.value;this.removeSystem(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.setData=function(e,t){this.data.set(e,t)},e.prototype.getData=function(e){var t=this.data.get(e);if(!t)throw new s.AuraError({class:"Game",method:"getData",message:"Failed to retrieve data with key '"+e+"'"});return t},e.prototype.deleteData=function(e){this.data.delete(e)},e.prototype.registerShader=function(e){this.renderer.createShaderProgram(e)},e.prototype.start=function(e){var t;null===(t=this.init)||void 0===t||t.call(this),this.switchToState(e),this.run()},e.prototype.run=function(){var e=Date.now();this.frameDelta=e-this.lastFrameTime,this.lastFrameTime=e,this.update(),this.world.tick(this,this.frameDelta),this.ui.tick(this,this.frameDelta),this.font.tick(this,this.frameDelta),this.renderer.clearScreen(),this.world.render(),this.ui.render(),this.font.render(),this.debugMode&&(this.debugData.frameCount++,this.debugData.frameCount%10==0&&(this.debugData.frameCount=0,this.debugData.fps=(1e3/this.frameDelta).toFixed(1))),requestAnimationFrame(this.run.bind(this))},e}();t.Game=c},251:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(9115),t),o(r(2169),t),o(r(4402),t),t.TwoD=r(3482),t.ThreeD=r(1704)},7950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7634:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=void 0;var a=r(251),u=function(){function e(e){this.config=e,this.id=(+new Date).toString(16)+(1e7*Math.random()|0).toString(16),this.components=new Map,e.components&&this.addComponents.apply(this,o([],n(e.components)))}return Object.defineProperty(e.prototype,"tag",{get:function(){return this.config.tag},enumerable:!1,configurable:!0}),e.prototype.getComponent=function(e){if(!this.hasComponent(e))throw new a.AuraError({class:"Entity",method:"getComponent",message:"Failed to retrieve Component '"+e.name+"' for Entity with tag '"+this.tag+"'"});return this.components.get(e.name)},e.prototype.getComponentByName=function(e){if(!this.hasComponentWithName(e))throw new a.AuraError({class:"Entity",method:"getComponentByName",message:"Failed to retrieve Component '"+e+"' for Entity with tag '"+this.tag+"'"});return this.components.get(e)},e.prototype.addComponent=function(e){this.components.set(e.name,e)},e.prototype.addComponents=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.addComponent(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.removeComponent=function(e){this.components.delete(e.name)},e.prototype.removeComponents=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.removeComponent(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.removeComponentByName=function(e){this.components.delete(e)},e.prototype.removeComponentsByName=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.removeComponentByName(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.hasComponent=function(e){return this.components.has(e.name)},e.prototype.hasComponents=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!this.hasComponent(u))return!1}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return!0},e.prototype.hasComponentWithName=function(e){return this.components.has(e)},e.prototype.hasComponentsWithNames=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!this.hasComponentWithName(u))return!1}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return!0},e}();t.Entity=u},9145:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},6188:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.EntityManager=void 0;var a=r(3833),u=r(251),s=r(9750),c=function(){function e(e){this.config=e,this.entities=[],this.renderableEntities=new Map,this.addList=[],this.removeList=[],this.vbos=new Map,this.entityFilterCache=new Map,this.sourcedEntityFilterCache=new Map,e.textureAtlas&&e.renderer.createTexture(e.textureAtlas)}return Object.defineProperty(e.prototype,"entityCount",{get:function(){return this.entities.length},enumerable:!1,configurable:!0}),e.prototype.addEntity=function(e){this.addList.push(e)},e.prototype.addEntities=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.addList=this.addList.concat(e)},e.prototype.removeEntity=function(e){this.removeList.push(e)},e.prototype.removeEntities=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.removeList=this.removeList.concat(e)},e.prototype.clearEntities=function(){this.removeEntities.apply(this,o([],n(this.entities)))},e.prototype.tick=function(e,t){var r,n,o=this.loadEntities(),a=this.cleanEntities();(o||a)&&this.invalidateFilterCaches();try{for(var u=i(this.entities),s=u.next();!s.done;s=u.next())s.value.tick(e,t)}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}},e.prototype.render=function(){var e,t,r,o,u;try{for(var s=i(this.renderableEntities.entries()),c=s.next();!c.done;c=s.next()){var l=n(c.value,2),f=l[0],p=l[1];try{for(var d=(r=void 0,i(p)),h=d.next();!h.done;h=d.next()){var y=n(h.value,2),v=y[0],_=y[1],m=this.vbos.get(f+"_"+v);if(_.length&&m){var b=_[0].getComponent(a.Shader).programName;this.config.renderer.render({vbo:m,shaderProgramName:b,textureAtlasName:null===(u=this.config.textureAtlas)||void 0===u?void 0:u.name,entities:_}),m.changed=!1}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},e.prototype.filterEntitiesByComponentName=function(e){return this.memoizeFilter(e,(function(t){return t.hasComponentWithName(e)}))},e.prototype.filterEntitiesByComponentNames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.memoizeFilter(e.toString(),(function(t){return t.hasComponentsWithNames.apply(t,o([],n(e)))}))},e.prototype.filterEntitiesByComponentNamesFromSource=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this.memoizeFilter(r.toString(),(function(e){return e.hasComponentsWithNames.apply(e,o([],n(r)))}),t,e)},e.prototype.filterEntitiesByTag=function(e){return this.memoizeFilter(e,(function(t){return t.tag===e}))},e.prototype.filterEntitiesByTags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.memoizeFilter(e.toString(),(function(t){return e.includes(t.tag)}))},e.prototype.loadEntities=function(){var e,t;if(this.addList.length){var r=[];try{for(var n=i(this.addList),o=n.next();!o.done;o=n.next()){var u=o.value;if(u.hasComponent(a.Shader)&&u.hasComponent(a.Model)){var s=u.getComponent(a.Shader).programName,c=u.getComponent(a.Model).modelName;r.push({programName:s,modelName:c});var l=this.renderableEntities.get(s);if(l){var f=l.get(c);f?f.push(u):f=[u],l.set(c,f)}else(l=new Map).set(c,[u]);this.renderableEntities.set(s,l)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.compileVertices(r),this.entities=this.entities.concat(this.addList),this.addList=[],!0}return!1},e.prototype.cleanEntities=function(){var e,t;if(this.removeList.length){var r=[];try{for(var n=i(this.removeList),o=n.next();!o.done;o=n.next()){var u=o.value;if(u.hasComponent(a.Shader)&&u.hasComponent(a.Model)){var s=u.getComponent(a.Shader).programName,c=u.getComponent(a.Model).modelName,l=this.renderableEntities.get(s);if(l){var f=l.get(c);f&&(f.splice(f.indexOf(u),1),r.push({programName:s,modelName:c}),f.length||l.delete(c),l.size||this.renderableEntities.delete(s))}this.entities.splice(this.entities.indexOf(u),1)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.compileVertices(r),this.removeList=[],!0}return!1},e.prototype.compileVertices=function(e){var t,r,n,o,c,l,f;try{for(var p=i(e),d=p.next();!d.done;d=p.next()){var h=d.value,y=h.programName,v=h.modelName,_=null===(f=this.renderableEntities.get(y))||void 0===f?void 0:f.get(v),m=y+"_"+v,b=this.config.name+"_"+m;if(_&&_.length){this.vbos.get(m)||this.config.renderer.createVBO(b);var g=_[0].getComponent(a.Shader),w=_[0].getComponent(a.Model),O=w.glShape,P=w.vertexCount,T=Object.values(g.vertex.attributes).reduce((function(e,t){return{name:t.name,size:e.size+t.size}})).size,x=T*P,j=new Float32Array(_.length*x),S=0;try{for(var E=(n=void 0,i(_)),M=E.next();!M.done;M=E.next())for(var C=M.value,A=0,D=0,R=0;R<P;R++)try{for(var V=(c=void 0,i(g.vertex.attributes)),I=V.next();!I.done;I=V.next()){var N=I.value,U=s.ShaderVariableResolver.resolveAttribute(N.name,C);if("number"==typeof U)U=Float32Array.from([U]);else if("a_Position"===N.name)U=U.slice(A,A+N.size),A+=N.size;else if("a_TexCoord"===N.name){var F=this.config.textureAtlas;if(!F)throw new u.AuraError({class:"EntityManager",method:"compileVertices",message:"\n                                            Failed to render "+this.config.name+" Entity '"+C.tag+"' with texture shader: No Texture Atlas\n                                            was configured for "+this.config.name+" Entities\n                                        "});var B=C.getComponent(a.Texture),G=B.column,z=B.row,L=B.columnSpan,X=B.rowSpan;U=F.resolveTextureCoordinates(U.slice(D,D+2),G,z,L,X),D+=2}j.set(U,S),S+=N.size}}catch(e){c={error:e}}finally{try{I&&!I.done&&(l=V.return)&&l.call(V)}finally{if(c)throw c.error}}}catch(e){n={error:e}}finally{try{M&&!M.done&&(o=E.return)&&o.call(E)}finally{if(n)throw n.error}}this.vbos.set(m,{name:b,vertices:j,vertexCount:P,vertexSize:T,glShape:O,changed:!0})}else this.config.renderer.deleteVBO(b),this.vbos.delete(m)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}},e.prototype.memoizeFilter=function(e,t,r,n){void 0===n&&(n=this.entities);var o=this.entityFilterCache;r&&(e=e+"_"+r,o=this.sourcedEntityFilterCache);var i=o.get(e);return i||(i=n.filter(t),o.set(e,i)),i},e.prototype.invalidateFilterCaches=function(){this.entityFilterCache.clear(),this.sourcedEntityFilterCache.clear()},e}();t.EntityManager=c},2041:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7950),t),o(r(9145),t),o(r(6188),t),o(r(7634),t)},2:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Char2D=void 0;var i=r(6859),a=r(3833),u=r(2041),s=r(8931),c=r(418),l=function(e){function t(t,r,n,o){return e.call(this,{tag:"font_char_2d",components:[new i.Transform2D(t,r),new a.Shader(c.PROGRAM_TEXTURE_COLORED_2D),new a.Model(s.BOX),new a.Texture(n.x,n.y),new a.FlatColor(o)]})||this}return o(t,e),t.prototype.tick=function(e,t){},t}(u.Entity);t.Char2D=l},1863:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7869:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Font2D=void 0;var s=r(6092),c=r(236),l=r(2),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addString=function(e,t,r,n){var o,c,f=[],p=0;try{for(var d=i(e),h=d.next();!h.done;h=d.next()){var y=h.value;f.push(new l.Char2D(s.Vec2.add(t,new s.Vec2(.25*p,0)),r,new s.Vec2(this.config.charset.indexOf(y.toUpperCase()),0),n)),p++}}catch(e){o={error:e}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(o)throw o.error}}this.addEntities.apply(this,u([],a(f)))},t}(c.Font);t.Font2D=f},3968:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2),t),o(r(1863),t),o(r(7869),t)},950:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Char3D=void 0;var i=r(6756),a=r(3833),u=r(2041),s=r(4659),c=r(3828),l=function(e){function t(t,r,n,o){return e.call(this,{tag:"font_char_3d",components:[new i.Transform3D(t,r),new a.Shader(c.PROGRAM_TEXTURE_COLORED_3D),new a.Model(s.BOX),new a.Texture(n.x,n.y),new a.FlatColor(o)]})||this}return o(t,e),t.prototype.tick=function(e,t){},t}(u.Entity);t.Char3D=l},4084:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},1204:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Font3D=void 0;var s=r(6092),c=r(236),l=r(950),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addString=function(e,t,r,n){var o,c,f=[],p=0;try{for(var d=i(e),h=d.next();!h.done;h=d.next()){var y=h.value;f.push(new l.Char3D(s.Vec3.add(t,new s.Vec3(.25*p,0,0)),r,new s.Vec2(this.config.charset.indexOf(y.toUpperCase()),0),n)),p++}}catch(e){o={error:e}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(o)throw o.error}}this.addEntities.apply(this,u([],a(f)))},t}(c.Font);t.Font3D=f},2334:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(950),t),o(r(4084),t),o(r(1204),t)},236:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Font=void 0;var a=function(e){function t(t){return e.call(this,i({name:"font"},t))||this}return o(t,e),t}(r(2041).EntityManager);t.Font=a},4432:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(236),t),t.TwoD=r(3968),t.ThreeD=r(2334)},756:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BOX=void 0;var n=r(9576),o=r(5672);t.BOX=new n.Geometry({name:"box_2d",vertices:Float32Array.from([-.5,-.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5]),vertexSize:2,vertexCount:6,glShape:o.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([0,0,1,0,1,1,1,1,0,1,0,0])})},8931:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Wireframe=void 0,o(r(756),t),o(r(9483),t),o(r(1786),t),o(r(4892),t),t.Wireframe=r(9825)},9483:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LINE=void 0;var n=r(9576),o=r(5672);t.LINE=new n.Geometry({name:"line_2d",vertices:Float32Array.from([-.5,0,.5,0]),vertexSize:2,vertexCount:2,glShape:o.GLShape.LINES,textureCoordinates:Float32Array.from([0,0,1,0])})},1786:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.POINT=void 0;var n=r(9576),o=r(5672);t.POINT=new n.Geometry({name:"point_2d",vertices:Float32Array.from([0,0]),vertexSize:2,vertexCount:1,glShape:o.GLShape.POINTS,textureCoordinates:Float32Array.from([.5,.5])})},4892:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TRIANGLE=void 0;var n=r(9576),o=r(5672);t.TRIANGLE=new n.Geometry({name:"triangle_2d",vertices:Float32Array.from([-.5,-.5,.5,-.5,0,.5]),vertexSize:2,vertexCount:3,glShape:o.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([0,0,1,0,.5,1])})},1352:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BOX=void 0;var n=r(9576),o=r(5672);t.BOX=new n.Geometry({name:"box_2d_wireframe",vertices:Float32Array.from([-.5,-.5,.5,-.5,.5,.5,-.5,.5]),vertexSize:2,vertexCount:4,glShape:o.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([0,0,1,0,1,1,0,1])})},9825:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1352),t),o(r(6151),t)},6151:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TRIANGLE=void 0;var n=r(9576),o=r(5672);t.TRIANGLE=new n.Geometry({name:"triangle_2d_wireframe",vertices:Float32Array.from([-.5,-.5,.5,-.5,0,.5]),vertexSize:2,vertexCount:3,glShape:o.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([0,0,1,0,.5,1])})},1833:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BOX=void 0;var n=r(9576),o=r(5672);t.BOX=new n.Geometry({name:"box_3d",vertices:Float32Array.from([-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5]),vertexSize:3,vertexCount:36,glShape:o.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0])})},4659:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Wireframe=void 0,o(r(1833),t),o(r(7841),t),o(r(3178),t),t.Wireframe=r(9372)},7841:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LINE=void 0;var n=r(9576),o=r(5672);t.LINE=new n.Geometry({name:"line_3d",vertices:Float32Array.from([-.5,0,0,.5,0,0]),vertexSize:3,vertexCount:2,glShape:o.GLShape.LINES,textureCoordinates:Float32Array.from([0,0,1,0])})},3178:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.POINT=void 0;var n=r(9576),o=r(5672);t.POINT=new n.Geometry({name:"point_3d",vertices:Float32Array.from([0,0,0]),vertexSize:3,vertexCount:1,glShape:o.GLShape.POINTS,textureCoordinates:Float32Array.from([.5,.5])})},9776:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BOX=void 0;var n=r(9576),o=r(5672);t.BOX=new n.Geometry({name:"box_3d_wireframe",vertices:Float32Array.from([-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5]),vertexSize:3,vertexCount:24,glShape:o.GLShape.LINES,textureCoordinates:Float32Array.from([0,0,1,0,1,0,1,1,1,1,0,1,0,1,0,0,0,0,1,0,1,0,1,1,1,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,0,1,1,1,0,1,1,1])})},9372:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(9776),t)},4274:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},9576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Geometry=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.config.vertices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexSize",{get:function(){return this.config.vertexSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexCount",{get:function(){return this.config.vertexCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"glShape",{get:function(){return this.config.glShape},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textureCoordinates",{get:function(){return this.config.textureCoordinates},enumerable:!1,configurable:!0}),e}();t.Geometry=r},5672:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GLShape=void 0,(r=t.GLShape||(t.GLShape={}))[r.POINTS=WebGLRenderingContext.POINTS]="POINTS",r[r.LINES=WebGLRenderingContext.LINES]="LINES",r[r.LINE_LOOP=WebGLRenderingContext.LINE_LOOP]="LINE_LOOP",r[r.LINE_STRIP=WebGLRenderingContext.LINE_STRIP]="LINE_STRIP",r[r.TRIANGLES=WebGLRenderingContext.TRIANGLES]="TRIANGLES",r[r.TRIANGLE_STRIP=WebGLRenderingContext.TRIANGLE_STRIP]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=WebGLRenderingContext.TRIANGLE_FAN]="TRIANGLE_FAN"},7653:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(4274),t),o(r(9576),t),o(r(5672),t),t.TwoD=r(8931),t.ThreeD=r(4659)},4278:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.World=t.UI=t.Texture=t.System=t.State=t.Shader=t.Renderer=t.Input=t.Geometry=t.Font=t.Entity=t.Core=t.Component=t.Camera=void 0,t.Camera=r(8446),t.Component=r(7346),t.Core=r(251),t.Entity=r(2041),t.Font=r(4432),t.Geometry=r(7653),t.Input=r(2396),o(r(6092),t),t.Renderer=r(6113),t.Shader=r(9750),t.State=r(6998),t.System=r(6061),t.Texture=r(8783),t.UI=r(6450),t.World=r(7551)},1535:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},2396:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1535),t),o(r(4305),t),o(r(4670),t)},4305:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputManager=void 0;var n=r(6092),o=r(4670),i=function(){function e(e,t){switch(this.controlScheme=t,this.keyBuffer=new Set,this.mousePressed=!1,this.mousePos=new n.Vec2,this.clickPos=new n.Vec2,this.dblClickPos=new n.Vec2,this.contextClickPos=new n.Vec2,this.ignoreKeys=[o.Keys.F_5,o.Keys.F_12],t){case"keyboard":this.initializeKeyboard();break;case"mouse":this.initializeMouse(e.canvas);break;default:this.initializeKeyboard(),this.initializeMouse(e.canvas)}}return e.prototype.isKeyDown=function(e){return this.keyBuffer.has(e)},e.prototype.isMouseDown=function(){return this.mousePressed},e.prototype.onKeyDown=function(e){var t=e.code;e.preventDefault(),this.ignoreKeys.includes(t)||this.keyBuffer.add(t)},e.prototype.onKeyUp=function(e){var t=e.code;e.preventDefault(),this.ignoreKeys.includes(t)||this.keyBuffer.delete(t)},e.prototype.onMouseDown=function(){this.mousePressed=!0},e.prototype.onMouseUp=function(){this.mousePressed=!1},e.prototype.onClick=function(e){this.clickPos.set(e.x,e.y)},e.prototype.onContextMenu=function(e){this.contextClickPos.set(e.x,e.y)},e.prototype.onDoubleClick=function(e){this.dblClickPos.set(e.x,e.y)},e.prototype.onMouseMove=function(e){this.mousePos.set(e.x,e.y)},e.prototype.initializeKeyboard=function(){window.addEventListener("keydown",this.onKeyDown.bind(this)),window.addEventListener("keyup",this.onKeyUp.bind(this))},e.prototype.initializeMouse=function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this)),e.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("click",this.onClick.bind(this)),e.addEventListener("contextmenu",this.onContextMenu.bind(this)),e.addEventListener("dblclick",this.onDoubleClick.bind(this)),e.addEventListener("mousemove",this.onMouseMove.bind(this))},e}();t.InputManager=i},4670:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Keys=void 0,(r=t.Keys||(t.Keys={})).A="KeyA",r.B="KeyB",r.C="KeyC",r.D="KeyD",r.E="KeyE",r.F="KeyF",r.G="KeyG",r.H="KeyH",r.I="KeyI",r.J="KeyJ",r.K="KeyK",r.L="KeyL",r.M="KeyM",r.N="KeyN",r.O="KeyO",r.P="KeyP",r.Q="KeyQ",r.R="KeyR",r.S="KeyS",r.T="KeyT",r.U="KeyU",r.V="KeyV",r.W="KeyW",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r.NUM_1="Digit1",r.NUM_2="Digit2",r.NUM_3="Digit3",r.NUM_4="Digit4",r.NUM_5="Digit5",r.NUM_6="Digit6",r.NUM_7="Digit7",r.NUM_8="Digit8",r.NUM_9="Digit9",r.NUM_0="Digit0",r.NUM_PAD_1="Numpad1",r.NUM_PAD_2="Numpad2",r.NUM_PAD_3="Numpad3",r.NUM_PAD_4="Numpad4",r.NUM_PAD_5="Numpad5",r.NUM_PAD_6="Numpad6",r.NUM_PAD_7="Numpad7",r.NUM_PAD_8="Numpad8",r.NUM_PAD_9="Numpad9",r.NUM_PAD_0="Numpad0",r.ARROW_LEFT="ArrowLeft",r.ARROW_RIGHT="ArrowRight",r.ARROW_UP="ArrowUp",r.ARROW_DOWN="ArrowDown",r.F_1="F1",r.F_2="F2",r.F_3="F3",r.F_4="F4",r.F_5="F5",r.F_6="F6",r.F_7="F7",r.F_8="F8",r.F_9="F9",r.F_10="F10",r.F_11="F11",r.F_12="F12",r.SPACE="Space",r.ENTER="Enter",r.SHIFT_LEFT="ShiftLeft",r.SHIFT_RIGHT="ShiftRight",r.CTRL_LEFT="ControlLeft",r.CTRL_RIGHT="ControlRight",r.ESC="Escape"},1417:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Angle=void 0;var r=function(){function e(){}return e.toRadians=function(e){return e*(Math.PI/180)},e.toDegrees=function(e){return 180*e/Math.PI},e}();t.Angle=r},2355:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;var n=r(7197),o=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n,this.r=Math.max(Math.min(e,255),0),this.g=Math.max(Math.min(t,255),0),this.b=Math.max(Math.min(r,255),0),this.a=Math.max(Math.min(n,1),0)}return e.random=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=1),new e(n.Random.between(0,255),n.Random.between(0,255),n.Random.between(0,255),t?n.Random.between(0,1):r)},e.randomList=function(t,r,n){void 0===r&&(r=!1),void 0===n&&(n=1);for(var o=[],i=0;i<t;i++)o.push(e.random(r,n));return o},e.fromHex=function(t){var r=0,n=0,o=0;if(t.startsWith("#"))switch(t.length){case 4:r=parseInt(t.substr(1,1).repeat(2),16),n=parseInt(t.substr(2,1).repeat(2),16),o=parseInt(t.substr(3,1).repeat(2),16);break;case 7:r=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),o=parseInt(t.substr(5,2),16)}else switch(t.length){case 3:r=parseInt(t.substr(0,1).repeat(2),16),n=parseInt(t.substr(1,1).repeat(2),16),o=parseInt(t.substr(2,1).repeat(2),16);break;case 6:r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16)}return(isNaN(r)||isNaN(n)||isNaN(o))&&(r=n=o=0),new e(r,n,o)},e.toHex=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},Object.defineProperty(e.prototype,"hex",{get:function(){return"#"+e.toHex(this.r)+e.toHex(this.g)+e.toHex(this.b)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from([this.rf,this.gf,this.bf,this.a])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rf",{get:function(){return this.r/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gf",{get:function(){return this.g/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bf",{get:function(){return this.b/255},enumerable:!1,configurable:!0}),e}();t.Color=o},6092:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1417),t),o(r(2355),t),o(r(3812),t),o(r(6577),t),o(r(7197),t),o(r(2364),t),o(r(9232),t),o(r(9706),t)},3812:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Mat3=void 0;var r=function(){function e(t){void 0===t&&(t=e.IDENTITY.slice(0)),this.array=t}return e.add=function(t,r){var n=t.array,o=r.array;return new e([n[0]+o[0],n[1]+o[1],n[2]+o[2],n[3]+o[3],n[4]+o[4],n[5]+o[5],n[6]+o[6],n[7]+o[7],n[8]+o[8]])},e.sub=function(t,r){var n=t.array,o=r.array;return new e([n[0]-o[0],n[1]-o[1],n[2]-o[2],n[3]-o[3],n[4]-o[4],n[5]-o[5],n[6]-o[6],n[7]-o[7],n[8]-o[8]])},e.mult=function(t,r){var n=t.array,o=r.array,i=n[0],a=n[1],u=n[2],s=n[3],c=n[4],l=n[5],f=n[6],p=n[7],d=n[8],h=o[0],y=o[1],v=o[2],_=o[3],m=o[4],b=o[5],g=o[6],w=o[7],O=o[8];return new e([i*h+a*_+u*g,i*y+a*m+u*w,i*v+a*b+u*O,s*h+c*_+l*g,s*y+c*m+l*w,s*v+c*b+l*O,f*h+p*_+d*g,f*y+p*m+d*w,f*v+p*b+d*O])},e.multScalar=function(t,r){var n=t.array;return new e([n[0]*r,n[1]*r,n[2]*r,n[3]*r,n[4]*r,n[5]*r,n[6]*r,n[7]*r,n[8]*r])},e.invert=function(t){var r=t.determinant;return r?e.multScalar(e.adjoint(t),1/r):null},e.transpose=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],u=r[4],s=r[5];return new e([n,a,r[6],o,u,r[7],i,s,r[8]])},e.adjoint=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],u=r[4],s=r[5],c=r[6],l=r[7],f=r[8];return new e([u*f-s*l,-(o*f-i*l),o*s-i*u,-(a*f-s*c),n*f-i*c,-(n*s-i*a),a*l-u*c,-(n*l-o*c),n*u-o*a])},e.translate=function(t,r){var n=t.array,o=r.x,i=r.y,a=n[0],u=n[1],s=n[2],c=n[3],l=n[4],f=n[5];return new e([a,u,s,c,l,f,o*a+i*c+n[6],o*u+i*l+n[7],o*s+i*f+n[8]])},e.rotate=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],u=n[1],s=n[2],c=n[3],l=n[4],f=n[5];return new e([i*a-o*c,i*u-o*l,i*s-o*f,i*c+o*a,i*l+o*u,i*f+o*s,n[6],n[7],n[8]])},e.fromRotation=function(t){var r=Math.sin(t),n=Math.cos(t);return new e([n,-r,0,r,n,0,0,0,1])},e.scale=function(t,r){var n=t.array,o=r.x,i=r.y;return new e([o*n[0],o*n[1],o*n[2],i*n[3],i*n[4],i*n[5],n[6],n[7],n[8]])},e.projection=function(t,r){return new e([2/t,0,0,0,2/r,0,0,0,1])},Object.defineProperty(e.prototype,"determinant",{get:function(){var e=this.array,t=e[0],r=e[1],n=e[2],o=e[0],i=e[1],a=(e[3],e[4]),u=e[5],s=e[3],c=(e[4],e[6]),l=e[7],f=e[8];return t*a*f+r*u*e[6]+n*s*e[7]-i*s*f-o*u*l-n*a*c},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){var e=this.array;return"Mat3\n"+e[0]+" "+e[1]+" "+e[2]+"\n"+e[3]+" "+e[4]+" "+e[5]+"\n"+e[6]+" "+e[7]+" "+e[8]+"\n"},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.mutable.array=e.IDENTITY.slice(0)},e.prototype.clone=function(){return new e(this.array)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e.IDENTITY=[1,0,0,0,1,0,0,0,1],e}();t.Mat3=r},6577:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Mat4=void 0;var n=r(1417),o=r(9232),i=function(){function e(t){void 0===t&&(t=e.IDENTITY.slice(0)),this.array=t}return e.add=function(t,r){var n=t.array,o=r.array;return new e([n[0]+o[0],n[1]+o[1],n[2]+o[2],n[3]+o[3],n[4]+o[4],n[5]+o[5],n[6]+o[6],n[7]+o[7],n[8]+o[8],n[9]+o[9],n[10]+o[10],n[11]+o[11],n[12]+o[12],n[13]+o[13],n[14]+o[14],n[15]+o[15]])},e.sub=function(t,r){var n=t.array,o=r.array;return new e([n[0]-o[0],n[1]-o[1],n[2]-o[2],n[3]-o[3],n[4]-o[4],n[5]-o[5],n[6]-o[6],n[7]-o[7],n[8]-o[8],n[9]-o[9],n[10]-o[10],n[11]-o[11],n[12]-o[12],n[13]-o[13],n[14]-o[14],n[15]-o[15]])},e.mult=function(t,r){var n=t.array,o=r.array,i=n[0],a=n[1],u=n[2],s=n[3],c=n[4],l=n[5],f=n[6],p=n[7],d=n[8],h=n[9],y=n[10],v=n[11],_=n[12],m=n[13],b=n[14],g=n[15],w=o[0],O=o[1],P=o[2],T=o[3],x=o[4],j=o[5],S=o[6],E=o[7],M=o[8],C=o[9],A=o[10],D=o[11],R=o[12],V=o[13],I=o[14],N=o[15];return new e([i*w+a*x+u*M+s*R,i*O+a*j+u*C+s*V,i*P+a*S+u*A+s*I,i*T+a*E+u*D+s*N,c*w+l*x+f*M+p*R,c*O+l*j+f*C+p*V,c*P+l*S+f*A+p*I,c*T+l*E+f*D+p*N,d*w+h*x+y*M+v*R,d*O+h*j+y*C+v*V,d*P+h*S+y*A+v*I,d*T+h*E+y*D+v*N,_*w+m*x+b*M+g*R,_*O+m*j+b*C+g*V,_*P+m*S+b*D+g*I,_*T+m*E+b*D+g*N])},e.multScalar=function(t,r){var n=t.array;return new e([n[0]*r,n[1]*r,n[2]*r,n[3]*r,n[4]*r,n[5]*r,n[6]*r,n[7]*r,n[8]*r,n[9]*r,n[10]*r,n[11]*r,n[12]*r,n[13]*r,n[14]*r,n[15]*r])},e.invert=function(t){var r=t.determinant;return r?e.multScalar(e.adjoint(t),1/r):null},e.transpose=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],u=r[4],s=r[5],c=r[6],l=r[7],f=r[8],p=r[9],d=r[10],h=r[11];return new e([n,u,f,r[12],o,s,p,r[13],i,c,d,r[14],a,l,h,r[15]])},e.adjoint=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],u=r[4],s=r[5],c=r[6],l=r[7],f=r[8],p=r[9],d=r[10],h=r[11],y=r[12],v=r[13],_=r[14],m=r[15];return new e([s*(d*m-h*_)-c*(p*m-h*v)+l*(p*_-d*v),-(o*(d*m-h*_)-i*(p*m-h*v)+a*(p*_-d*v)),o*(c*m-l*_)-i*(s*m-l*v)+a*(s*_-c*v),-(o*(c*h-l*d)-i*(s*h-l*p)+a*(s*d-c*p)),-(u*(d*m-h*_)-c*(f*m-h*y)+l*(f*_-d*y)),n*(d*m-h*_)-i*(f*m-h*y)+a*(f*_-d*y),-(n*(c*m-l*_)-i*(u*m-l*y)+a*(u*_-c*y)),n*(c*h-l*d)-i*(u*h-l*f)+a*(u*d-c*f),u*(p*m-h*v)-s*(f*m-h*y)+l*(f*v-p*y),-(n*(p*m-h*v)-o*(f*m-h*y)+a*(f*v-p*y)),n*(s*m-l*v)-o*(u*m-l*y)+a*(u*v-s*y),-(n*(s*h-l*p)-o*(u*h-l*f)+a*(u*p-s*f)),-(u*(p*_-d*v)-s*(f*_-d*y)+c*(f*v-p*y)),n*(p*_-d*v)-o*(f*_-d*y)+i*(f*v-p*y),-(n*(s*_-c*v)-o*(u*_-c*y)+i*(u*v-s*y)),n*(s*d-c*p)-o*(u*d-c*f)+i*(u*p-s*f)])},e.translate=function(t,r){var n=t.array,o=r.x,i=r.y,a=r.z,u=n[0],s=n[1],c=n[2],l=n[3],f=n[4],p=n[5],d=n[6],h=n[7],y=n[8],v=n[9],_=n[10],m=n[11];return new e([u,s,c,l,f,p,d,h,y,v,_,m,o*u+i*f+a*y+n[12],o*s+i*p+a*v+n[13],o*c+i*d+a*_+n[14],o*l+i*h+a*m+n[15]])},e.rotateX=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],u=n[1],s=n[2],c=n[3],l=n[4],f=n[5],p=n[6],d=n[7],h=n[8],y=n[9],v=n[10],_=n[11];return new e([a,u,s,c,i*l+o*h,i*f+o*y,i*p+o*v,i*d+o*_,i*h-o*l,i*y-o*f,i*v-o*p,i*_-o*d,n[12],n[13],n[14],n[15]])},e.rotateY=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],u=n[1],s=n[2],c=n[3],l=n[4],f=n[5],p=n[6],d=n[7],h=n[8],y=n[9],v=n[10],_=n[11];return new e([i*a+o*h,i*u+o*y,i*s+o*v,i*c+o*_,l,f,p,d,i*h-o*a,i*y-o*u,i*v-o*s,i*_-o*c,n[12],n[13],n[14],n[15]])},e.rotateZ=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],u=n[1],s=n[2],c=n[3],l=n[4],f=n[5],p=n[6],d=n[7];return new e([i*a-o*l,i*u-o*f,i*s-o*p,i*c-o*d,i*l+o*a,i*f+o*u,i*p+o*s,i*d+o*c,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]])},e.fromAxisRotation=function(t,r){var n=o.Vec3.normalize(t),i=n.x,a=n.y,u=n.z,s=Math.sin(r),c=Math.cos(r),l=1-c;return new e([i*i*l+c,a*i*l+u*s,u*i*l-a*s,0,i*a*l-u*s,a*a*l+c,u*a*l+i*s,0,i*u*l+a*s,a*u*l-i*s,u*u*l+c,0,0,0,0,1])},e.scale=function(t,r){var n=t.array,o=r.x,i=r.y,a=r.z;return new e([o*n[0],o*n[1],o*n[2],o*n[3],i*n[4],i*n[5],i*n[6],i*n[7],a*n[8],a*n[9],a*n[10],a*n[11],n[12],n[13],n[14],n[15]])},e.perspective=function(t,r,o,i){var a=1/Math.tan(n.Angle.toRadians(t)/2);if(i){var u=1/(o-i);return new e([a/r,0,0,0,0,a,0,0,0,0,(i+o)*u,-1,0,0,2*i*o*u,0])}return new e([a/r,0,0,0,0,a,0,0,0,0,-1,-1,0,0,-2*o,0])},e.ortho=function(t,r,n,o,i,a){return new e([2/(r-t),0,0,0,0,2/(o-n),0,0,0,0,2/(i-a),0,(t+r)/(t-r),(n+o)/(n-o),(i+a)/(i-a),1])},e.lookAt=function(t,r,n){var i=o.Vec3.normalize(o.Vec3.sub(t,r)),a=o.Vec3.normalize(o.Vec3.cross(n,i)),u=o.Vec3.normalize(o.Vec3.cross(i,a));return new e([a.x,a.y,a.z,0,u.x,u.y,u.z,0,i.x,i.y,i.z,0,t.x,t.y,t.z,1])},Object.defineProperty(e.prototype,"determinant",{get:function(){var e=this.array,t=e[0],r=e[1],n=e[2],o=e[3],i=e[4],a=e[5],u=e[6],s=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],h=e[13],y=e[14],v=e[15];return t*(a*(f*v-p*y)-u*(l*v-p*h)+s*(l*y-f*h))-r*(i*(f*v-p*y)-u*(c*v-p*d)+s*(c*y-f*d))+n*(i*(l*v-p*h)-a*(c*v-p*d)+s*(c*h-l*d))-o*(i*(l*y-f*h)-a*(c*y-f*d)+u*(c*h-l*d))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"forwardVector",{get:function(){return new o.Vec3(this.array[8],this.array[9],this.array[10])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightVector",{get:function(){return new o.Vec3(this.array[0],this.array[1],this.array[2])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"upVector",{get:function(){return new o.Vec3(this.array[4],this.array[5],this.array[6])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){var e=this.array;return"Mat4\n"+e[0]+" "+e[1]+" "+e[2]+" "+e[3]+"\n"+e[4]+" "+e[5]+" "+e[6]+" "+e[7]+"\n"+e[8]+" "+e[9]+" "+e[10]+" "+e[11]+"\n"+e[12]+" "+e[13]+" "+e[14]+" "+e[15]},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.mutable.array=e.IDENTITY.slice(0)},e.prototype.clone=function(){return new e(this.array)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e.IDENTITY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e}();t.Mat4=i},7197:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Random=void 0;var r=function(){function e(){}return e.between=function(e,t){return Math.random()*(t-e)+e},e}();t.Random=r},2364:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vec2=void 0;var n=r(9232),o=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.add=function(t,r){return new e(t.x+r.x,t.y+r.y)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y)},e.mult=function(t,r){return new e(t.x*r.x,t.y*r.y)},e.div=function(t,r){return new e(t.x/r.x,t.y/r.y)},e.scale=function(t,r){return new e(t.x*r,t.y*r)},e.negate=function(t){return new e(-t.x,-t.y)},e.invert=function(t){return new e(1/t.x,1/t.y)},e.normalize=function(t){var r=t.magnitude;return r>0?new e(t.x/r,t.y/r):new e},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.cross=function(e,t){return new n.Vec3(0,0,e.x*t.y-e.y*t.x)},e.distanceBetween=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},e.angleBetween=function(t,r){var n=t.magnitude*r.magnitude,o=e.dot(t,r);return n>0?Math.acos(o/n):0},e.rotate=function(t,r){var n=Math.cos(r),o=Math.sin(r);return new e(t.x*n-t.y*o,t.x*o+t.y*n)},e.clamp=function(t,r,n){return new e(Math.min(Math.max(t.x,r.x),n.x),Math.min(Math.max(t.y,r.y),n.y))},e.transformByMat3=function(t,r){var n=t.x,o=t.y,i=r.array,a=i[0],u=i[1],s=i[3],c=i[4];return new e(a*n+s*o+i[6],u*n+c*o+i[7])},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.hypot(this.x,this.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return[this.x,this.y]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return"Vec2( "+this.x+" , "+this.y+" )"},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.mutable.x=e,this.mutable.y=t},e.prototype.setX=function(e){void 0===e&&(e=0),this.mutable.x=e},e.prototype.setY=function(e){void 0===e&&(e=0),this.mutable.y=e},e.prototype.clone=function(){return new e(this.x,this.y)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e}();t.Vec2=o},9232:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3=void 0;var r=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.x=e,this.y=t,this.z=r}return e.add=function(t,r){return new e(t.x+r.x,t.y+r.y,t.z+r.z)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y,t.z-r.z)},e.mult=function(t,r){return new e(t.x*r.x,t.y*r.y,t.z*r.z)},e.div=function(t,r){return new e(t.x/r.x,t.y/r.y,t.z/r.z)},e.scale=function(t,r){return new e(t.x*r,t.y*r,t.z*r)},e.negate=function(t){return new e(-t.x,-t.y,-t.z)},e.invert=function(t){return new e(1/t.x,1/t.y,1/t.z)},e.normalize=function(t){var r=t.magnitude;return r>0?new e(t.x/r,t.y/r,t.z/r):new e},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},e.cross=function(t,r){return new e(t.y*r.z-t.z*r.y,t.z*r.x-t.x*r.z,t.x*r.y-t.y*r.x)},e.distanceBetween=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y,t.z-e.z)},e.angleBetween=function(t,r){var n=t.magnitude*r.magnitude,o=e.dot(t,r);return n>0?Math.acos(o/n):0},e.rotateX=function(t,r,n){var o=[t.x-r.x,t.y-r.y,t.z-r.z],i=[o[0],o[1]*Math.cos(n)-o[2]*Math.sin(n),o[1]*Math.sin(n)+o[2]*Math.cos(n)];return new e(i[0]+r.x,i[1]+r.y,i[2]+r.z)},e.rotateY=function(t,r,n){var o=[t.x-r.x,t.y-r.y,t.z-r.z],i=[o[2]*Math.sin(n)+o[0]*Math.cos(n),o[1],o[2]*Math.cos(n)-o[0]*Math.sin(n)];return new e(i[0]+r.x,i[1]+r.y,i[2]+r.z)},e.rotateZ=function(t,r,n){var o=[t.x-r.x,t.y-r.y,t.z-r.z],i=[o[0]*Math.cos(n)-o[1]*Math.sin(n),o[0]*Math.sin(n)+o[1]*Math.cos(n),o[2]];return new e(i[0]+r.x,i[1]+r.y,i[2]+r.z)},e.transformByMat4=function(t,r){var n=t.x,o=t.y,i=t.z,a=r.array,u=a[0],s=a[1],c=a[2],l=a[4],f=a[5],p=a[6],d=a[8],h=a[9],y=a[10];return new e(u*n+l*o+d*i+a[12],s*n+f*o+h*i+a[13],c*n+p*o+y*i+a[14])},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.hypot(this.x,this.y,this.z)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return[this.x,this.y,this.z]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return"Vec3( "+this.x+" , "+this.y+" , "+this.z+" )"},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.mutable.x=e,this.mutable.y=t,this.mutable.z=r},e.prototype.setX=function(e){void 0===e&&(e=0),this.mutable.x=e},e.prototype.setY=function(e){void 0===e&&(e=0),this.mutable.y=e},e.prototype.setZ=function(e){void 0===e&&(e=0),this.mutable.z=e},e.prototype.clone=function(){return new e(this.x,this.y,this.z)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e}();t.Vec3=r},9706:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vec4=void 0;var r=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=r,this.w=n}return e.add=function(t,r){return new e(t.x+r.x,t.y+r.y,t.z+r.z,t.w+r.w)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y,t.z-r.z,t.w-r.w)},e.mult=function(t,r){return new e(t.x*r.x,t.y*r.y,t.z*r.z,t.w*r.w)},e.div=function(t,r){return new e(t.x/r.x,t.y/r.y,t.z/r.z,t.w/r.w)},e.scale=function(t,r){return new e(t.x*r,t.y*r,t.z*r,t.w*r)},e.negate=function(t){return new e(-t.x,-t.y,-t.z,-t.w)},e.invert=function(t){return new e(1/t.x,1/t.y,1/t.z,1/t.w)},e.normalize=function(t){var r=t.magnitude;return r>0?new e(t.x/r,t.y/r,t.z/r,t.w/r):new e},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},e.distanceBetween=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y,t.z-e.z,t.w-e.z)},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.hypot(this.x,this.y,this.z,this.w)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return[this.x,this.y,this.z,this.w]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return"Vec4( "+this.x+" , "+this.y+" , "+this.z+" , "+this.w+" )"},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.mutable.x=e,this.mutable.y=t,this.mutable.z=r,this.mutable.w=n},e.prototype.setX=function(e){void 0===e&&(e=0),this.mutable.x=e},e.prototype.setY=function(e){void 0===e&&(e=0),this.mutable.y=e},e.prototype.setZ=function(e){void 0===e&&(e=0),this.mutable.z=e},e.prototype.setW=function(e){void 0===e&&(e=0),this.mutable.w=e},e.prototype.clone=function(){return new e(this.x,this.y,this.z,this.w)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e}();t.Vec4=r},6113:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7371),t),o(r(8264),t),o(r(3985),t)},7371:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8264:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var i=r(251),a=r(9750),u=function(){function e(e,t){this.game=e,this.shaderPrograms=new Map,this.activeShaderProgram=null,this.vbos=new Map,this.activeVBOName=null,this.textures=new Map,this.activeTexture=null,this.mode="2D";var r=e.canvas.getContext("webgl");if(!r)throw new i.AuraError({class:"WebGLRenderer",method:"construct",message:"Failed to retrieve WebGL Canvas context"});this.gl=r,this.backgroundColor=t.float32Array,this.init()}return Object.defineProperty(e.prototype,"activeTextureUnit",{get:function(){var e,t;return null!==(t=null===(e=this.activeTexture)||void 0===e?void 0:e.uniformUnit)&&void 0!==t?t:-1},enumerable:!1,configurable:!0}),e.prototype.clearScreen=function(){var e=this.gl.COLOR_BUFFER_BIT;"3D"===this.mode&&(e|=this.gl.DEPTH_BUFFER_BIT),this.gl.clear(e)},e.prototype.createVBO=function(e){var t=this.gl.createBuffer();if(!t)throw new i.AuraError({class:"WebGLRenderer",method:"createVBO",message:"Failed to create buffer with name '"+e+"'"});this.vbos.set(e,t)},e.prototype.deleteVBO=function(e){var t=this.gl,r=this.vbos.get(e);r&&(t.deleteBuffer(r),this.vbos.delete(e))},e.prototype.createShaderProgram=function(e){var t=this.gl,r=e.vertex,n=e.fragment,o=this.compileShader(e.name,t.VERTEX_SHADER,r.source),a=this.compileShader(e.name,t.FRAGMENT_SHADER,n.source),u=t.createProgram();if(!u)throw new i.AuraError({class:"WebGLRenderer",method:"createShaderProgram",message:"Failed to create Shader Program with name '"+e.name+"'"});if(t.attachShader(u,o),t.attachShader(u,a),t.linkProgram(u),!t.getProgramParameter(u,t.LINK_STATUS)){var s=t.getProgramInfoLog(u);throw t.deleteProgram(u),t.deleteShader(a),t.deleteShader(o),new i.AuraError({class:"WebGLRenderer",method:"createShaderProgram",message:"Failed to link Shader Program with name '"+e.name+"' : ["+(null!=s?s:"")+"]"})}this.initializeShaderProgram(u,e)},e.prototype.createTexture=function(e){var t=this.gl,r=t.TEXTURE0+this.textures.size;t.activeTexture(r);var n=t.createTexture();if(!n)throw new i.AuraError({class:"WebGLRenderer",method:"createTexture",message:"Failed to create texture with name '"+e.name+"' and src '"+e.src+"'"});t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,0,255,255])),t.bindTexture(t.TEXTURE_2D,null);var o=new Image;o.src=e.src,o.addEventListener("load",(function(){t.activeTexture(r),t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)})),this.textures.set(e.name,{name:e.name,texture:n,unit:r,uniformUnit:r-t.TEXTURE0})},e.prototype.setRenderingMode=function(e){var t=this.gl;"3D"===e&&(t.enable(t.DEPTH_TEST),t.depthFunc(t.LESS)),this.mode=e},e.prototype.render=function(e){var t,r,o,i,u,s,c,l,f,p,d=this.gl;e.shaderProgramName!==(null===(c=this.activeShaderProgram)||void 0===c?void 0:c.name)&&this.useShaderProgram(e.shaderProgramName),e.vbo.name!==this.activeVBOName&&this.useVBO(e.vbo),e.textureAtlasName&&e.textureAtlasName!==(null===(l=this.activeTexture)||void 0===l?void 0:l.name)&&this.useTexture(e.textureAtlasName);var h=null===(f=this.activeShaderProgram)||void 0===f?void 0:f.staticUniformLocations,y=null===(p=this.activeShaderProgram)||void 0===p?void 0:p.entityUniformLocations;if(null==h?void 0:h.length)try{for(var v=n(h),_=v.next();!_.done;_=v.next()){var m=_.value;this.loadUniform(m.location,m.type,a.ShaderVariableResolver.resolveStaticUniform(m.name,this.game))}}catch(e){t={error:e}}finally{try{_&&!_.done&&(r=v.return)&&r.call(v)}finally{if(t)throw t.error}}if(null==y?void 0:y.length){var b=0;try{for(var g=n(e.entities),w=g.next();!w.done;w=g.next()){var O=w.value;try{for(var P=(u=void 0,n(y)),T=P.next();!T.done;T=P.next()){var x=(m=T.value).location;x&&this.loadUniform(x,m.type,a.ShaderVariableResolver.resolveEntityUniform(m.name,O))}}catch(e){u={error:e}}finally{try{T&&!T.done&&(s=P.return)&&s.call(P)}finally{if(u)throw u.error}}d.drawArrays(e.vbo.glShape,b,e.vbo.vertexCount),b+=e.vbo.vertexCount}}catch(e){o={error:e}}finally{try{w&&!w.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}}else d.drawArrays(e.vbo.glShape,0,e.vbo.vertexCount*e.entities.length)},e.prototype.init=function(){var e=this.gl,t=o(this.backgroundColor,4),r=t[0],n=t[1],i=t[2],a=t[3];this.gl.clearColor(r,n,i,a),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.viewport(0,0,e.canvas.width,e.canvas.height)},e.prototype.compileShader=function(e,t,r){var n=this.gl,o=t===WebGLRenderingContext.VERTEX_SHADER?"Vertex Shader":"Fragment Shader",a=n.createShader(t);if(!a)throw new i.AuraError({class:"WebGLRenderer",method:"compileShader",message:"Failed to create "+o+" with name "+e});if(n.shaderSource(a,r),n.compileShader(a),!n.getShaderParameter(a,n.COMPILE_STATUS)){var u=n.getShaderInfoLog(a);throw n.deleteShader(a),new i.AuraError({class:"WebGLRenderer",method:"compileShader",message:"Failed to compile "+o+" with name "+e+" : ["+(null!=u?u:"")+"]"})}return a},e.prototype.initializeShaderProgram=function(e,t){var r,o,u,s,c,l=this.gl;l.useProgram(e);var f=[];try{for(var p=n(t.vertex.attributes),d=p.next();!d.done;d=p.next()){var h=d.value;f.push({location:l.getAttribLocation(e,h.name),size:h.size})}}catch(e){r={error:e}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}var y=[],v=[],_=(null!==(c=t.vertex.uniforms)&&void 0!==c?c:[]).concat(t.fragment.uniforms);try{for(var m=n(_),b=m.next();!b.done;b=m.next()){var g=b.value,w=l.getUniformLocation(e,g.name),O=g.variation===a.UniformVariation.STATIC?y:v;if(!w)throw new i.AuraError({class:"WebGLRenderer",method:"initializeShaderProgram",message:"Failed to retrieve uniform location for uniform name '"+g.name+"' in shader program '"+t.name+"'"});O.push({name:g.name,location:w,type:g.type})}}catch(e){u={error:e}}finally{try{b&&!b.done&&(s=m.return)&&s.call(m)}finally{if(u)throw u.error}}this.shaderPrograms.set(t.name,{name:t.name,program:e,attributeLocations:f,staticUniformLocations:y,entityUniformLocations:v}),l.useProgram(null)},e.prototype.useShaderProgram=function(e){var t=this.gl,r=this.shaderPrograms.get(e);if(!r)throw new i.AuraError({class:"WebGLRenderer",method:"useShaderProgram",message:"Failed to switch to Shader Program with name '"+e+"'"});t.useProgram(r.program),this.activeShaderProgram=r},e.prototype.useVBO=function(e){var t,r,o,a,u=this.gl,s=this.vbos.get(e.name);if(!s)throw new i.AuraError({class:"WebGLRenderer",method:"useVBO",message:"Failed to switch to VBO with name '"+e.name+"'"});u.bindBuffer(u.ARRAY_BUFFER,s),e.changed&&u.bufferData(u.ARRAY_BUFFER,e.vertices,u.DYNAMIC_DRAW);var c=0;try{for(var l=n(null!==(a=null===(o=this.activeShaderProgram)||void 0===o?void 0:o.attributeLocations)&&void 0!==a?a:[]),f=l.next();!f.done;f=l.next()){var p=f.value;u.enableVertexAttribArray(p.location),u.vertexAttribPointer(p.location,p.size,u.FLOAT,!1,4*e.vertexSize,c),c+=4*p.size}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}this.activeVBOName=e.name},e.prototype.useTexture=function(e){var t=this.gl,r=this.textures.get(e);if(!r)throw new i.AuraError({class:"WebGLRenderer",method:"useTexture",message:"Failed to switch to Texture with name '"+e+"'"});t.activeTexture(r.unit),t.bindTexture(t.TEXTURE_2D,r.texture),this.activeTexture=r},e.prototype.loadUniform=function(e,t,r){var n=this.gl;switch(t){case a.UniformType.VEC2:n.uniform2fv(e,r);break;case a.UniformType.VEC3:n.uniform3fv(e,r);break;case a.UniformType.VEC4:n.uniform4fv(e,r);break;case a.UniformType.MAT3:n.uniformMatrix3fv(e,!1,r);break;case a.UniformType.MAT4:n.uniformMatrix4fv(e,!1,r);break;case a.UniformType.INTEGER:n.uniform1i(e,r);break;case a.UniformType.FLOAT:n.uniform1f(e,r)}},e}();t.Renderer=u},3985:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},5702:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},5067:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7793:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FragmentShader=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this.config.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.config.uniforms},enumerable:!1,configurable:!0}),e}();t.FragmentShader=r},7580:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_BASIC=void 0;var n=r(3334),o=r(8020),i=r(7793);t.FRAGMENT_BASIC=new i.FragmentShader({name:"fragment_basic",source:"\n        precision mediump float;\n\n        uniform vec4 u_Color;\n\n        void main() {\n            gl_FragColor = u_Color;\n        }\n    ",uniforms:[{name:"u_Color",type:n.UniformType.VEC4,variation:o.UniformVariation.ENTITY}]})},7292:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_COLOR_PER_VERTEX=void 0;var n=r(7793);t.FRAGMENT_COLOR_PER_VERTEX=new n.FragmentShader({name:"fragment_color_per_vertex",source:"\n        precision mediump float;\n\n        varying vec4 v_Color;\n\n        void main() {\n            gl_FragColor = v_Color;\n        }\n    ",uniforms:[]})},102:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7580),t),o(r(7292),t),o(r(7773),t),o(r(2235),t)},7773:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_TEXTURE=void 0;var n=r(3334),o=r(8020),i=r(7793);t.FRAGMENT_TEXTURE=new i.FragmentShader({name:"fragment_texture",source:"\n        precision mediump float;\n\n        uniform sampler2D u_Texture;\n\n        varying vec2 v_TexCoord;\n\n        void main() {\n            gl_FragColor = texture2D(u_Texture, v_TexCoord);\n        }\n    ",uniforms:[{name:"u_Texture",type:n.UniformType.INTEGER,variation:o.UniformVariation.STATIC}]})},2235:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_TEXTURE_COLORED=void 0;var n=r(3334),o=r(8020),i=r(7793);t.FRAGMENT_TEXTURE_COLORED=new i.FragmentShader({name:"fragment_texture",source:"\n        precision mediump float;\n\n        uniform sampler2D u_Texture;\n        uniform vec4 u_Color;\n\n        varying vec2 v_TexCoord;\n\n        void main() {\n            gl_FragColor = texture2D(u_Texture, v_TexCoord) * u_Color;\n        }\n    ",uniforms:[{name:"u_Texture",type:n.UniformType.INTEGER,variation:o.UniformVariation.STATIC},{name:"u_Color",type:n.UniformType.VEC4,variation:o.UniformVariation.ENTITY}]})},6473:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Generic=void 0,o(r(5067),t),o(r(7793),t),t.Generic=r(102)},9750:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Vertex=t.Program=t.Fragment=void 0,o(r(5702),t),o(r(8527),t),o(r(6666),t),o(r(3334),t),o(r(8020),t),t.Fragment=r(6473),t.Program=r(2967),t.Vertex=r(9677)},854:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_BASIC_2D=void 0;var n=r(102),o=r(4068),i=r(7533);t.PROGRAM_BASIC_2D=new i.ShaderProgram({name:"program_basic_2d",vertex:o.VERTEX_BASIC_2D,fragment:n.FRAGMENT_BASIC})},1660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_COLOR_PER_VERTEX_2D=void 0;var n=r(102),o=r(4068),i=r(7533);t.PROGRAM_COLOR_PER_VERTEX_2D=new i.ShaderProgram({name:"program_color_per_vertex_2d",vertex:o.VERTEX_COLOR_PER_VERTEX_2D,fragment:n.FRAGMENT_COLOR_PER_VERTEX})},418:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(854),t),o(r(1660),t),o(r(3818),t),o(r(7807),t)},3818:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_TEXTURE_2D=void 0;var n=r(102),o=r(4068),i=r(7533);t.PROGRAM_TEXTURE_2D=new i.ShaderProgram({name:"program_texture_2d",vertex:o.VERTEX_TEXTURE_2D,fragment:n.FRAGMENT_TEXTURE})},7807:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_TEXTURE_COLORED_2D=void 0;var n=r(102),o=r(4068),i=r(7533);t.PROGRAM_TEXTURE_COLORED_2D=new i.ShaderProgram({name:"program_texture_colored_2d",vertex:o.VERTEX_TEXTURE_2D,fragment:n.FRAGMENT_TEXTURE_COLORED})},1355:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_BASIC_3D=void 0;var n=r(102),o=r(3802),i=r(7533);t.PROGRAM_BASIC_3D=new i.ShaderProgram({name:"program_basic_3d",vertex:o.VERTEX_BASIC_3D,fragment:n.FRAGMENT_BASIC})},5243:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_COLOR_PER_VERTEX_3D=void 0;var n=r(102),o=r(3802),i=r(7533);t.PROGRAM_COLOR_PER_VERTEX_3D=new i.ShaderProgram({name:"program_color_per_vertex_3d",vertex:o.VERTEX_COLOR_PER_VERTEX_3D,fragment:n.FRAGMENT_COLOR_PER_VERTEX})},3828:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1355),t),o(r(5243),t),o(r(6889),t),o(r(8566),t)},6889:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_TEXTURE_3D=void 0;var n=r(102),o=r(3802),i=r(7533);t.PROGRAM_TEXTURE_3D=new i.ShaderProgram({name:"program_texture_3d",vertex:o.VERTEX_TEXTURE_3D,fragment:n.FRAGMENT_TEXTURE})},8566:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_TEXTURE_COLORED_3D=void 0;var n=r(102),o=r(3802),i=r(7533);t.PROGRAM_TEXTURE_COLORED_3D=new i.ShaderProgram({name:"program_texture_colored_3d",vertex:o.VERTEX_TEXTURE_3D,fragment:n.FRAGMENT_TEXTURE_COLORED})},2967:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(232),t),o(r(7533),t),t.TwoD=r(418),t.ThreeD=r(3828)},232:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7533:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderProgram=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this.config.fragment},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertex",{get:function(){return this.config.vertex},enumerable:!1,configurable:!0}),e}();t.ShaderProgram=r},8527:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderVariableResolver=void 0;var n=r(6859),o=r(6756),i=r(3833),a=r(251),u=function(){function e(){}return e.resolveAttribute=function(t,r){var n=e.ENTITY_ATTRIBUTE_MAPPINGS.get(t);if(!n)throw new a.AuraError({class:"ShaderVariableResolver",method:"resolveAttribute",message:"\n                    Failed to retrieve value for attribute name '"+t+"' : no resolution function exists for this variable\n                "});return n(r)},e.resolveEntityUniform=function(t,r){var n=e.ENTITY_UNIFORM_MAPPINGS.get(t);if(!n)throw new a.AuraError({class:"ShaderVariableResolver",method:"resolveEntityUniform",message:"\n                    Failed to retrieve value for uniform name '"+t+"' : no resolution function exists for this variable\n                "});return n(r)},e.resolveStaticUniform=function(t,r){var n=e.STATIC_UNIFORM_MAPPINGS.get(t);if(!n)throw new a.AuraError({class:"ShaderVariableResolver",method:"resolveStaticUniform",message:"\n                    Failed to retrieve value for uniform name '"+t+"' : no resolution function exists for this variable\n                "});return n(r)},e.registerAttributeResolver=function(t,r){if(e.ENTITY_ATTRIBUTE_MAPPINGS.get(t))throw new a.AuraError({class:"ShaderVariableResolver",method:"registerAttributeResolver",message:"\n                    Failed to register resolution function for attribute name '"+t+"' : this variable is already registered.\n                    Override existing resolution functions with 'overrideAttributeResolver()'\n                "});e.ENTITY_ATTRIBUTE_MAPPINGS.set(t,r)},e.registerEntityUniformResolver=function(t,r){if(e.ENTITY_UNIFORM_MAPPINGS.get(t))throw new a.AuraError({class:"ShaderVariableResolver",method:"registerEntityUniformResolver",message:"\n                    Failed to register entity resolution function for uniform name '"+t+"' : this variable is already registered.\n                    Override existing resolution functions with 'overrideEntityUniformResolver()'\n                "});e.ENTITY_UNIFORM_MAPPINGS.set(t,r)},e.registerStaticUniformResolver=function(t,r){if(e.STATIC_UNIFORM_MAPPINGS.get(t))throw new a.AuraError({class:"ShaderVariableResolver",method:"registerStaticUniformResolver",message:"\n                    Failed to register static resolution function for uniform name '"+t+"' : this variable is already registered.\n                    Override existing resolution functions with 'overrideStaticUniformResolver()'\n                "});e.STATIC_UNIFORM_MAPPINGS.set(t,r)},e.overrideAttributeResolver=function(t,r){if(!e.ENTITY_ATTRIBUTE_MAPPINGS.get(t))throw new a.AuraError({class:"ShaderVariableResolver",method:"overrideAttributeResolver",message:"\n                    Failed to override resolution function for attribute name '"+t+"' : this variable is not already registered.\n                    Add new resolution functions with 'registerAttributeResolver()'\n                "});e.ENTITY_ATTRIBUTE_MAPPINGS.set(t,r)},e.overrideEntityUniformResolver=function(t,r){if(!e.ENTITY_UNIFORM_MAPPINGS.get(t))throw new a.AuraError({class:"ShaderVariableResolver",method:"overrideEntityUniformResolver",message:"\n                    Failed to override entity resolution function for uniform name '"+t+"' : this variable is not already\n                    registered.\n                    Add new resolution functions with 'registerEntityUniformResolver()'\n                "});e.ENTITY_UNIFORM_MAPPINGS.set(t,r)},e.overrideStaticUniformResolver=function(t,r){if(!e.STATIC_UNIFORM_MAPPINGS.get(t))throw new a.AuraError({class:"ShaderVariableResolver",method:"overrideStaticUniformResolver",message:"\n                    Failed to override static resolution function for uniform name '"+t+"' : this variable is not already\n                    registered.\n                    Add new resolution functions with 'registerStaticUniformResolver()'\n                "});e.STATIC_UNIFORM_MAPPINGS.set(t,r)},e.ENTITY_ATTRIBUTE_MAPPINGS=new Map([["a_Position",function(e){return e.getComponent(i.Model).vertices}],["a_Color",function(e){return e.getComponent(i.FlatColor).color.float32Array}],["a_VertexColor",function(e){return e.getComponent(i.MultiColor).nextColor().float32Array}],["a_TexCoord",function(e){return e.getComponent(i.Model).textureCoordinates}]]),e.ENTITY_UNIFORM_MAPPINGS=new Map([["u_Transform2D",function(e){return e.getComponent(n.Transform2D).compute().float32Array}],["u_Transform3D",function(e){return e.getComponent(o.Transform3D).compute().float32Array}],["u_Color",function(e){return e.getComponent(i.FlatColor).color.float32Array}]]),e.STATIC_UNIFORM_MAPPINGS=new Map([["u_Projection",function(e){return e.world.activeCamera.projection.float32Array}],["u_View",function(e){return e.world.activeCamera.getViewMatrix().float32Array}],["u_Texture",function(e){return e.renderer.activeTextureUnit}]]),e}();t.ShaderVariableResolver=u},6666:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},3334:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UniformType=void 0,(r=t.UniformType||(t.UniformType={})).VEC2="vec2",r.VEC3="vec3",r.VEC4="vec4",r.MAT3="mat3",r.MAT4="mat4",r.INTEGER="integer",r.FLOAT="float"},8020:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UniformVariation=void 0,(r=t.UniformVariation||(t.UniformVariation={})).STATIC="static",r.ENTITY="entity"},2535:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_BASIC_2D=void 0;var n=r(3334),o=r(8020),i=r(5747);t.VERTEX_BASIC_2D=new i.VertexShader({name:"vertex_basic_2d",source:"\n        uniform mat3 u_Transform2D;\n        uniform mat3 u_Projection;\n        uniform mat3 u_View;\n\n        attribute vec2 a_Position;\n\n        void main() {\n            gl_PointSize = 1.0;\n\n            gl_Position = vec4(u_Projection * u_View * u_Transform2D * vec3(a_Position, 1.0), 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:2}],uniforms:[{name:"u_Transform2D",type:n.UniformType.MAT3,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT3,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT3,variation:o.UniformVariation.STATIC}]})},5301:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_COLOR_PER_VERTEX_2D=void 0;var n=r(3334),o=r(8020),i=r(5747);t.VERTEX_COLOR_PER_VERTEX_2D=new i.VertexShader({name:"vertex_color_per_vertex_2d",source:"\n        precision mediump float;\n\n        uniform mat3 u_Transform2D;\n        uniform mat3 u_Projection;\n        uniform mat3 u_View;\n\n        attribute vec2 a_Position;\n        attribute vec4 a_VertexColor;\n\n        varying vec4 v_Color;\n\n        void main() {\n            v_Color = a_VertexColor;\n\n            gl_PointSize = 1.0;\n\n            gl_Position = vec4(u_Projection * u_View * u_Transform2D * vec3(a_Position, 1.0), 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:2},{name:"a_VertexColor",size:4}],uniforms:[{name:"u_Transform2D",type:n.UniformType.MAT3,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT3,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT3,variation:o.UniformVariation.STATIC}]})},4068:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2535),t),o(r(5301),t),o(r(5741),t)},5741:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_TEXTURE_2D=void 0;var n=r(3334),o=r(8020),i=r(5747);t.VERTEX_TEXTURE_2D=new i.VertexShader({name:"vertex_texture_2d",source:"\n        precision mediump float;\n\n        uniform mat3 u_Transform2D;\n        uniform mat3 u_Projection;\n        uniform mat3 u_View;\n\n        attribute vec2 a_Position;\n        attribute vec2 a_TexCoord;\n\n        varying vec2 v_TexCoord;\n\n        void main() {\n            v_TexCoord = a_TexCoord;\n\n            gl_PointSize = 1.0;\n\n            gl_Position = vec4(u_Projection * u_View * u_Transform2D * vec3(a_Position, 1.0), 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:2},{name:"a_TexCoord",size:2}],uniforms:[{name:"u_Transform2D",type:n.UniformType.MAT3,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT3,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT3,variation:o.UniformVariation.STATIC}]})},7757:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_BASIC_3D=void 0;var n=r(3334),o=r(8020),i=r(5747);t.VERTEX_BASIC_3D=new i.VertexShader({name:"vertex_basic_3d",source:"\n        precision mediump float;\n\n        uniform mat4 u_Transform3D;\n        uniform mat4 u_Projection;\n        uniform mat4 u_View;\n\n        attribute vec3 a_Position;\n\n        void main() {\n            gl_PointSize = 1.0;\n\n            gl_Position = u_Projection * u_View * u_Transform3D * vec4(a_Position, 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:3}],uniforms:[{name:"u_Transform3D",type:n.UniformType.MAT4,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC}]})},2936:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_COLOR_PER_VERTEX_3D=void 0;var n=r(3334),o=r(8020),i=r(5747);t.VERTEX_COLOR_PER_VERTEX_3D=new i.VertexShader({name:"vertex_color_per_vertex_3d",source:"\n        precision mediump float;\n\n        uniform mat4 u_Transform3D;\n        uniform mat4 u_Projection;\n        uniform mat4 u_View;\n\n        attribute vec3 a_Position;\n        attribute vec4 a_VertexColor;\n\n        varying vec4 v_Color;\n\n        void main() {\n            v_Color = a_VertexColor;\n\n            gl_PointSize = 1.0;\n\n            gl_Position = u_Projection * u_View * u_Transform3D * vec4(a_Position, 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:3},{name:"a_VertexColor",size:4}],uniforms:[{name:"u_Transform3D",type:n.UniformType.MAT4,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC}]})},3802:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7757),t),o(r(2936),t),o(r(8432),t)},8432:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_TEXTURE_3D=void 0;var n=r(3334),o=r(8020),i=r(5747);t.VERTEX_TEXTURE_3D=new i.VertexShader({name:"vertex_texture_3d",source:"\n        precision mediump float;\n\n        uniform mat4 u_Transform3D;\n        uniform mat4 u_Projection;\n        uniform mat4 u_View;\n\n        attribute vec3 a_Position;\n        attribute vec2 a_TexCoord;\n\n        varying vec2 v_TexCoord;\n\n        void main() {\n            v_TexCoord = a_TexCoord;\n\n            gl_PointSize = 1.0;\n\n            gl_Position = u_Projection * u_View * u_Transform3D * vec4(a_Position, 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:3},{name:"a_TexCoord",size:2}],uniforms:[{name:"u_Transform3D",type:n.UniformType.MAT4,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC}]})},9677:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(322),t),o(r(5747),t),t.TwoD=r(4068),t.ThreeD=r(3802)},322:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},5747:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VertexShader=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this.config.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.config.attributes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.config.uniforms},enumerable:!1,configurable:!0}),e}();t.VertexShader=r},206:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6346),t)},6346:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.State2D=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(9637).State);t.State2D=i},9695:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8276),t)},8276:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.State3D=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(9637).State);t.State3D=i},6998:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(2011),t),o(r(9637),t),t.TwoD=r(206),t.ThreeD=r(9695)},2011:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},9637:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),e.prototype.init=function(e){var t,r;null===(r=(t=this.config).init)||void 0===r||r.call(t,e)},e.prototype.tick=function(e,t){this.config.tick(e,t)},e.prototype.end=function(e){var t,r;null===(r=(t=this.config).end)||void 0===r||r.call(t,e)},e}();t.State=r},5087:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Collision2D=void 0;var i=r(6859),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Collision2D",t}return o(t,e),t.prototype.tick=function(e,t){for(var r=e.world.filterEntitiesByComponentNames("Transform2D","BoxCollider2D"),n=0;n<r.length;n++)for(var o=n+1;o<r.length;o++)this.collides(r[n],r[o])&&(r[n].getComponent(i.BoxCollider2D).onCollision(e,r[o]),r[o].getComponent(i.BoxCollider2D).onCollision(e,r[n]))},t.prototype.collides=function(e,t){return e.getComponent(i.Transform2D),e.getComponent(i.BoxCollider2D),t.getComponent(i.Transform2D),t.getComponent(i.BoxCollider2D),!1},t}(r(139).System2D);t.Collision2D=a},1848:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5087),t),o(r(5519),t),o(r(139),t)},5519:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Physics2D=void 0;var a=r(6859),u=r(6092),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Physics2D",t}return o(t,e),t.prototype.tick=function(e,t){var r,n,o=e.world.filterEntitiesByComponentName("Transform2D");try{for(var s=i(o),c=s.next();!c.done;c=s.next()){var l=c.value.getComponent(a.Transform2D);l.move(u.Vec2.scale(l.velocity,t/1e3))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}},t}(r(139).System2D);t.Physics2D=s},139:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.System2D=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(1461).System);t.System2D=i},9029:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6798),t),o(r(7198),t)},6798:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Physics=void 0;var a=r(6756),u=r(6092),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Physics3D",t}return o(t,e),t.prototype.tick=function(e,t){var r,n,o=e.world.filterEntitiesByComponentName("Transform3D");try{for(var s=i(o),c=s.next();!c.done;c=s.next()){var l=c.value.getComponent(a.Transform3D);l.move(u.Vec3.scale(l.velocity,t/1e3))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}},t}(r(7198).System3D);t.Physics=s},7198:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.System3D=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(1461).System);t.System3D=i},6061:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(1461),t),t.TwoD=r(1848),t.ThreeD=r(9029)},1461:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0;t.System=function(){}},8783:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1808),t)},1808:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlas=void 0;var r=function(){function e(e,t,r,n){this.name=e,this.src=t,this.columns=r,this.rows=n}return e.prototype.resolveTextureCoordinates=function(e,t,r,n,o){return Float32Array.from([(t+e[0])/(this.columns-n+1),1-(r+e[1])/(this.rows-o+1)])},e}();t.TextureAtlas=r},4202:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6412),t),o(r(1401),t),o(r(7896),t)},6412:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Panel2D=void 0;var i=r(6859),a=r(3833),u=r(2041),s=r(8931),c=r(418),l=function(e){function t(t,r,n){return e.call(this,{tag:"ui_panel_2d",components:[new i.Transform2D(t,r),new a.Shader(c.PROGRAM_BASIC_2D),new a.Model(s.BOX),new a.FlatColor(n)]})||this}return o(t,e),t.prototype.tick=function(e,t){},t}(u.Entity);t.Panel2D=l},1401:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7896:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UI2D=void 0;var i=r(6946),a=r(6412),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addPanel=function(e,t,r){this.addEntity(new a.Panel2D(e,t,r))},t}(i.UI);t.UI2D=u},2061:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6927),t),o(r(5178),t),o(r(5903),t)},6927:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Panel3D=void 0;var i=r(6756),a=r(3833),u=r(2041),s=r(4659),c=r(3828),l=function(e){function t(t,r,n){return e.call(this,{tag:"ui_panel_2d",components:[new i.Transform3D(t,r),new a.Shader(c.PROGRAM_BASIC_3D),new a.Model(s.BOX),new a.FlatColor(n)]})||this}return o(t,e),t.prototype.tick=function(e,t){},t}(u.Entity);t.Panel3D=l},5178:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},5903:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UI3D=void 0;var i=r(6946),a=r(6927),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addPanel=function(e,t,r){this.addEntity(new a.Panel3D(e,t,r))},t}(i.UI);t.UI3D=u},6450:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(6946),t),t.TwoD=r(4202),t.ThreeD=r(2061)},6946:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;var a=function(e){function t(t){return e.call(this,i({name:"ui"},t))||this}return o(t,e),t}(r(2041).EntityManager);t.UI=a},9236:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8728),t),o(r(4072),t)},8728:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},4072:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.World2D=void 0;var i=r(1085),a=r(251),u=function(e){function t(t){var r,n,o,a=e.call(this,t)||this;a.cameras=new Map;var u=new i.Camera2D({name:"default",offset:null===(r=t.camera)||void 0===r?void 0:r.offset,projection:null!==(o=null===(n=t.camera)||void 0===n?void 0:n.projection)&&void 0!==o?o:{width:t.dimensions.x,height:t.dimensions.y}});return a.addCamera(u),a.activeCamera=u,a}return o(t,e),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this.config.dimensions},enumerable:!1,configurable:!0}),t.prototype.addCamera=function(e){this.cameras.set(e.name,e)},t.prototype.getCamera=function(e){var t=this.cameras.get(e);if(!t)throw new a.AuraError({class:"World2D",method:"getCamera",message:"Failed to retrieve 2D Camera with name "+e});return t},t}(r(2160).World);t.World2D=u},9120:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8498),t),o(r(8148),t)},8498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8148:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.World3D=void 0;var i=r(5263),a=r(251),u=function(e){function t(t){var r,n,o,a=e.call(this,t)||this;a.cameras=new Map;var u=new i.Camera3D({name:"default",offset:null===(r=t.camera)||void 0===r?void 0:r.offset,projection:null!==(o=null===(n=t.camera)||void 0===n?void 0:n.projection)&&void 0!==o?o:{mode:"perspective",fov:90,near:.1,far:1e6,width:t.dimensions.x,height:t.dimensions.y}});return a.addCamera(u),a.activeCamera=u,a}return o(t,e),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this.config.dimensions},enumerable:!1,configurable:!0}),t.prototype.addCamera=function(e){this.cameras.set(e.name,e)},t.prototype.getCamera=function(e){var t=this.cameras.get(e);if(!t)throw new a.AuraError({class:"World3D",method:"getCamera",message:"Failed to retrieve 3D Camera with name "+e});return t},t}(r(2160).World);t.World3D=u},7551:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeD=t.TwoD=void 0,o(r(2160),t),t.TwoD=r(9236),t.ThreeD=r(9120)},2160:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.World=void 0;var a=r(251),u=function(e){function t(t){return e.call(this,i({name:"world"},t))||this}return o(t,e),t.prototype.removeCamera=function(e){this.cameras.delete(e)},t.prototype.switchToCamera=function(e){var t=this.cameras.get(e);if(!t)throw new a.AuraError({class:"World",method:"switchToCamera",message:"Failed to switch to Camera with name "+e});this.activeCamera=t},t}(r(2041).EntityManager);t.World=u},196:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.Health=void 0;var i=function(e){function t(t){var r=e.call(this,"Health")||this;return r.health=t,r}return o(t,e),t}(r(4278).Component.Component);t.Health=i},4622:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.Enemy=void 0;var i=r(4278),a=function(e){function t(t,r){return e.call(this,{tag:"enemy",components:[new i.Component.TwoD.Transform2D(t,new i.Vec2(100,100),0,r),new i.Component.Generic.Model(i.Geometry.TwoD.BOX),new i.Component.Generic.Shader(i.Shader.Program.TwoD.PROGRAM_BASIC_2D),new i.Component.Generic.FlatColor(new i.Color(0,255,255))]})||this}return o(t,e),t.prototype.tick=function(e,t){},t}(i.Entity.Entity);t.Enemy=a},668:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.Food=void 0;var i=r(4278),a=function(e){function t(t){var r=e.call(this,{tag:"food",components:[new i.Component.TwoD.Transform2D(t,new i.Vec2(25,25),0,new i.Vec2),new i.Component.Generic.Model(i.Geometry.TwoD.BOX),new i.Component.Generic.Shader(i.Shader.Program.TwoD.PROGRAM_BASIC_2D),new i.Component.Generic.FlatColor(new i.Color(255,255,0)),new i.Component.TwoD.BoxCollider2D(new i.Vec2(25,25),(function(e,t){e.world.removeEntity(r)}))]})||this;return r.rotateDir=Math.random()<=.5?-1:1,r}return o(t,e),t.prototype.tick=function(e,t){this.getComponent(i.Component.TwoD.Transform2D).rotate(i.Angle.toRadians(1)*this.rotateDir)},t}(i.Entity.Entity);t.Food=a},9101:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.Player=void 0;var i=r(4278),a=r(196),u=function(e){function t(){var t=e.call(this,{tag:"player",components:[new i.Component.TwoD.Transform2D(new i.Vec2(0,0),new i.Vec2(50,50),0,new i.Vec2(650,0)),new i.Component.Generic.Model(i.Geometry.TwoD.BOX),new i.Component.Generic.Shader(i.Shader.Program.TwoD.PROGRAM_BASIC_2D),new i.Component.Generic.FlatColor(new i.Color(0,255,0)),new i.Component.TwoD.BoxCollider2D(new i.Vec2(50,50),(function(e,r){"enemy"===r.tag&&(t.getComponent(a.Health).health-=1)})),new a.Health(10)]})||this;return t}return o(t,e),t.prototype.tick=function(e,t){},t}(i.Entity.Entity);t.Player=u},9798:(e,t,r)=>{t.__esModule=!0,t.DEAD_STATE=void 0;var n=r(4278);t.DEAD_STATE=new n.State.TwoD.State2D({name:"dead",init:function(e){e.font.addString("Dead!",new n.Vec2(0,0),new n.Vec2(100,100),new n.Color(255,255,255)),e.font.addString("Points: "+e.getData("points"),new n.Vec2(0,100),new n.Vec2(100,100),new n.Color(255,255,255)),e.font.addString("Enter to play again!",new n.Vec2(0,150),new n.Vec2(100,100),new n.Color(255,255,255))},end:function(e){e.font.clearEntities()},tick:function(e){e.input.isKeyDown(n.Input.Keys.ENTER)&&e.switchToState("main")}})},2019:(e,t,r)=>{t.__esModule=!0,t.MAIN_STATE=void 0;var n=r(4278),o=r(196),i=r(9101),a=r(2412),u=r(1122);t.MAIN_STATE=new n.State.TwoD.State2D({name:"main",init:function(e){e.setData("points",1),e.addSystems(new u.WrapSystem,new a.ProgressionSystem,new n.System.TwoD.Physics2D,new n.System.TwoD.Collision2D),e.world.addEntity(new i.Player)},end:function(e){e.removeSystems("Wrap","Progression","Physics2D","Collision2D"),e.font.clearEntities(),e.world.clearEntities()},tick:function(e){e.font.clearEntities();var t=e.getData("points");e.font.addString("Points: "+t,new n.Vec2(-e.world.dimensions.x/2+25,e.world.dimensions.y/2-25),new n.Vec2(50,50),new n.Color(255,255,255));var r=e.world.filterEntitiesByTag("player")[0];if(r){var i="Health: "+r.getComponent(o.Health).health;e.font.addString(i,new n.Vec2(e.world.dimensions.x/2-25*i.length,e.world.dimensions.y/2-25),new n.Vec2(50,50),new n.Color(255,255,255));var a=r.getComponent(n.Component.TwoD.Transform2D);new n.Vec2,e.input.isKeyDown(n.Input.Keys.A)?(a.velocity.setX(-650),a.velocity.setY(0)):e.input.isKeyDown(n.Input.Keys.D)?(a.velocity.setX(650),a.velocity.setY(0)):e.input.isKeyDown(n.Input.Keys.W)?(a.velocity.setX(0),a.velocity.setY(650)):e.input.isKeyDown(n.Input.Keys.S)&&(a.velocity.setX(0),a.velocity.setY(-650))}}})},2131:(e,t,r)=>{t.__esModule=!0,t.MENU_STATE=void 0;var n=r(4278);t.MENU_STATE=new n.State.TwoD.State2D({name:"menu",init:function(e){e.font.addString("Press Enter!",new n.Vec2(0,0),new n.Vec2(100,100),new n.Color(255,255,255))},end:function(e){e.font.clearEntities()},tick:function(e){e.input.isKeyDown(n.Input.Keys.ENTER)&&e.switchToState("main")}})},2412:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.ProgressionSystem=void 0;var i=r(4278),a=r(196),u=r(4622),s=r(668),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Progression",t.enemyAdded=!1,t}return o(t,e),t.prototype.tick=function(e,t){var r=e.world.filterEntitiesByTag("player")[0];if(r&&r.getComponent(a.Health).health<=0&&e.switchToState("dead"),e.world.filterEntitiesByTag("food").length||e.world.addEntity(new s.Food(new i.Vec2(i.Random.between(-e.world.dimensions.x/2,e.world.dimensions.x/2),i.Random.between(-e.world.dimensions.y/2,e.world.dimensions.y/2)))),e.getData("points")%5!=0||this.enemyAdded)this.enemyAdded=!1;else{this.enemyAdded=!0;var n=Math.random();e.world.addEntity(new u.Enemy(new i.Vec2(i.Random.between(-e.world.dimensions.x,e.world.dimensions.x),i.Random.between(-e.world.dimensions.y,e.world.dimensions.y)),new i.Vec2(n<.5?100*i.Random.between(-1,1):0,n>.5?100*i.Random.between(-1,1):0)))}},t}(i.System.TwoD.System2D);t.ProgressionSystem=c},1122:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.WrapSystem=void 0;var i=r(4278),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Wrap",t}return o(t,e),t.prototype.tick=function(e,t){var r=e.world.filterEntitiesByTag("player")[0];if(r){var n=r.getComponent(i.Component.TwoD.Transform2D),o=this.left(n),a=this.right(n),u=this.bottom(n),s=this.top(n);o>=e.world.dimensions.x/2?n.translate(new i.Vec2(-e.world.dimensions.x-n.scale.x,0)):a<=-e.world.dimensions.x/2&&n.translate(new i.Vec2(e.world.dimensions.x+n.scale.x,0)),u>=e.world.dimensions.y/2?n.translate(new i.Vec2(0,-e.world.dimensions.y-n.scale.y)):s<=-e.world.dimensions.y/2&&n.translate(new i.Vec2(0,e.world.dimensions.y+n.scale.y))}},t.prototype.left=function(e){return e.position.x-e.scale.x/2},t.prototype.right=function(e){return e.position.x+e.scale.x/2},t.prototype.bottom=function(e){return e.position.y-e.scale.y/2},t.prototype.top=function(e){return e.position.y+e.scale.y/2},t}(i.System.TwoD.System2D);t.WrapSystem=a}},a={};function u(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return i[e].call(r.exports,r,r.exports,u),r.exports}e=u(4278),t=u(9798),r=u(2019),n=u(2131),(o=new e.Core.TwoD.Game2D({canvasDimensions:new e.Vec2(1024,768)})).registerShader(e.Shader.Program.TwoD.PROGRAM_BASIC_2D),o.registerShader(e.Shader.Program.TwoD.PROGRAM_TEXTURE_COLORED_2D),o.addStates(n.MENU_STATE,r.MAIN_STATE,t.DEAD_STATE),o.start(n.MENU_STATE.name)})();